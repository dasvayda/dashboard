(this["webpackJsonpharvest-dashboard"]=this["webpackJsonpharvest-dashboard"]||[]).push([[0],{28:function(e,t,n){e.exports=n(54)},33:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"HarvestRewardsPool",(function(){return z}));var s=n(0),r=n.n(s),i=n(25),u=n.n(i),p=(n(33),n(4)),l=n(5),o=n(6),y=n(7),d=n(26),c=n.n(d),m=n(12),f=n(11),b=[{name:"BAL_95_USDC_5_FARM",type:"balancer",decimals:18,address:"0x0395e4a17ff11d36dac9959f2d7c8eca10fe89c9"},{name:"FARM_USDC_LP",type:"uniswap",decimals:18,address:"0x514906FC121c7878424a5C928cad1852CC545892"},{name:"YFV",decimals:18,address:"0x45f24baeef268bb6d63aee5129015d69702bcdfa"},{name:"YFII",decimals:18,address:"0xa1d0E215a23d7030842FC67cE582a6aFa3CCaB83"},{name:"WETH",decimals:18,address:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2"},{name:"LINK",decimals:18,address:"0x514910771af9ca656af840dff83e8264ecf986ca"},{name:"YFI",decimals:18,address:"0x0bc529c00c6401aef6d220be8c6ea1667f6ad93e"},{name:"SUSHI",decimals:18,address:"0x6b3595068778dd592e39a122f4f5a5cf09c90fe2"},{name:"OGN",decimals:18,address:"0x8207c1ffc5b6804f6024322ccf34f29c3541ae26"},{name:"BASED_SUSD_LP",type:"uniswap",decimals:18,address:"0xaad22f5543fcdaa694b68f94be177b561836ae57"},{name:"PASTA_ETH_LP",type:"uniswap",decimals:18,address:"0xe92346d9369fe03b735ed9bdeb6bdc2591b8227e"},{name:"FARM",decimals:18,address:"0xa0246c9032bc3a600820415ae600c6388619a14d"},{name:"USDC",decimals:6,address:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48"},{name:"USDT",decimals:6,address:"0xdac17f958d2ee523a2206206994597c13d831ec7"},{name:"DAI",decimals:18,address:"0x6b175474e89094c44da98b954eedeac495271d0f"},{name:"SUSD",decimals:18,address:"0x57ab1ec28d129707052df4df418d58a2d46d5f51"},{name:"BASED",decimals:18,address:"0x68A118Ef45063051Eac49c7e647CE5Ace48a68a5"},{name:"PASTA",decimals:18,address:"0xE54f9E6Ab80ebc28515aF8b8233c1aeE6506a15E"},{name:"BAL_80_USDC_20_FARM",type:"balancer",decimals:18,address:"0x0126CfA7EC6B6d4A960b5979943c06a9742af55E"},{name:"BAL_90_SWRV_10_FARM",type:"balancer",decimals:18,address:"0xf9F2dF6e0e369145481a32Fcd260E353AA20c1a6"},{name:"BAL_90_CRV_10_FARM",type:"balancer",decimals:18,address:"0xac6bac9Dc3de2c14b420E287De8ECB330d96E492"},{name:"BAL_90_SUSHI_10_FARM",type:"balancer",decimals:18,address:"0xB39Ce7fa5953beBC6697112e88cd11579CBCA579"},{name:"BAL_90_YFV_10_FARM",type:"balancer",decimals:18,address:"0x97cD8E51cd6C888567c6c620188B8Fb264EE8E91"},{name:"BAL_90_LINK_10_FARM",type:"balancer",decimals:18,address:"0x418d3DfcA5099923Cd57e0Bf9Ed1e9994f515152"},{name:"BAL_90_PYLON_10_FARM",type:"balancer",decimals:18,address:"0x1e2dA0aa71155726C5C0E39AF76Ac0c2e8F74bEF"},{name:"BAL_90_BASED_SUSD_LP_10_FARM",type:"balancer",decimals:18,address:"0xf76206115617f090f5a49961a78BCf99BB91cFeE"},{name:"BAL_90_PASTA_ETH_LP_10_FARM",type:"balancer",decimals:18,address:"0xa3e69eBCE417eE0508d6996340126aD60078fCDd"},{name:"BAL_90_AMPL_ETH_LP_10_FARM",type:"balancer",decimals:18,address:"0xdFb341093ea062a74Bd19a222c74Abdcb97C067b"},{name:"FUSDC_USDC_LP",type:"uniswap",decimals:18,address:"0x4161fa43eaa1ac3882aeed12c5fc05249e533e67"},{name:"FUSDT_USDT_LP",type:"uniswap",decimals:18,address:"0x713f62ccf8545ff1df19e5d7ab94887cfaf95677"},{name:"FDAI_DAI_LP",type:"uniswap",decimals:18,address:"0x007e383bf3c3ffa12a5de06a53bab103335eff28"},{name:"AMPL_ETH_LP",type:"uniswap",decimals:18,address:"0xc5be99A02C6857f9Eac67BbCE58DF5572498F40c"},{name:"SWRV",decimals:18,address:"0xB8BAa0e4287890a5F79863aB62b7F175ceCbD433"},{name:"CRV",decimals:18,address:"0xD533a949740bb3306d119CC777fa900bA034cd52"},{name:"PYLON",decimals:18,address:"0xD7B7d3C0bdA57723Fb54ab95Fd8F9EA033AF37f2"},{name:"AMPL",decimals:9,address:"0xD46bA6D942050d489DBd938a2C909A5d5039A161"},{name:"WBTC",decimals:8,address:"0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599"},{name:"RENBTC",decimals:8,address:"0xEB4C2781e4ebA804CE9a9803C67d0893436bB27D"}];function v(e){return b.find((function(t){return t.name===e}))}b.push({name:"CRVRENWBTC",decimals:18,type:"curve",curveInfo:{poolAddress:"0x93054188d876f558f4a66b2ef1d97d16edf0895b",assets:[v("WBTC"),v("RENBTC")]},address:"0x49849C98ae39Fff122806C06791Fa73784FB3675"}),b.push({name:"FDAI",type:"ftoken",underlyingAsset:v("DAI"),decimals:18,address:"0xe85c8581e60d7cd32bbfd86303d2a4fa6a951dac"}),b.push({name:"FUSDC",type:"ftoken",underlyingAsset:v("USDC"),decimals:6,address:"0xc3f7ffb5d5869b3ade9448d094d81b0521e8326f"}),b.push({name:"FUSDT",type:"ftoken",underlyingAsset:v("USDT"),decimals:6,address:"0xc7ee21406bb581e741fbb8b21f213188433d9f2f"}),b.push({name:"FWBTC",type:"ftoken",underlyingAsset:v("WBTC"),decimals:8,address:"0xc07EB91961662D275E2D285BdC21885A4Db136B0"}),b.push({name:"FRENBTC",type:"ftoken",underlyingAsset:v("RENBTC"),decimals:18,address:"0xfBe122D0ba3c75e1F7C80bd27613c9f35B81FEeC"}),b.push({name:"FCRVRENWBTC",type:"ftoken",underlyingAsset:v("CRVRENWBTC"),decimals:18,address:"0x192E9d29D43db385063799BC239E772c3b6888F3"});var T=[{asset:v("FDAI"),address:"0xF9E5f9024c2f3f2908A1d0e7272861a767C9484b",rewardAsset:v("FARM")},{asset:v("FUSDC"),address:"0xE1f9A3EE001a2EcC906E8de637DBf20BB2d44633",rewardAsset:v("FARM")},{asset:v("FUSDT"),address:"0x5bd997039FFF16F653EF15D1428F2C791519f58d",rewardAsset:v("FARM")},{asset:v("BAL_95_USDC_5_FARM"),address:"0x6f8A975758436A5Ec38d2f9d2336504430465517",rewardAsset:v("FARM")},{asset:v("FARM_USDC_LP"),address:"0x99b0d6641A63Ce173E6EB063b3d3AED9A35Cf9bf",rewardAsset:v("FARM")},{asset:v("YFV"),address:"0x3631A32c959C5c52BC90AB5b7D212a8D00321918",rewardAsset:v("FARM")},{asset:v("YFII"),address:"0xC97DDAa8091aBaF79A4910b094830CCE5cDd78f4",rewardAsset:v("FARM")},{asset:v("WETH"),address:"0xE604Fd5b1317BABd0cF2c72F7F5f2AD8c00Adbe1",rewardAsset:v("FARM")},{asset:v("LINK"),address:"0xa112c2354d27c2Fb3370cc5d027B28987117a268",rewardAsset:v("FARM")},{asset:v("YFI"),address:"0x84646F736795a8bC22Ab34E05c8982CD058328C7",rewardAsset:v("FARM")},{asset:v("SUSHI"),address:"0x4938960C507A4d7094C53A8cDdCF925835393B8f",rewardAsset:v("FARM")},{asset:v("OGN"),address:"0xF71042C88458ff1702c3870f62F4c764712Cc9F0",rewardAsset:v("FARM")},{asset:v("BASED_SUSD_LP"),address:"0xb3b56c7BDc87F9DeB7972cD8b5c09329ce421F89",rewardAsset:v("FARM")},{asset:v("PASTA_ETH_LP"),address:"0xC6f39CFf6797baC5e29275177b6E8e315cF87D95",rewardAsset:v("FARM")},{asset:v("FARM"),address:"0xae024F29C26D6f71Ec71658B1980189956B0546D",rewardAsset:v("FARM")}],h=[{asset:v("BAL_80_USDC_20_FARM"),address:"0x346523a81f16030110e6c858ee0e11f156840bd1",rewardAsset:v("FARM")},{asset:v("FARM_USDC_LP"),address:"0x99b0d6641A63Ce173E6EB063b3d3AED9A35Cf9bf",rewardAsset:v("FARM")},{asset:v("FUSDC_USDC_LP"),address:"0x43286F57cf5981a5db56828dF91a46CfAb983E58",rewardAsset:v("FARM")},{asset:v("FUSDT_USDT_LP"),address:"0x316De40F36da4C54AFf11C1D83081555Cca41270",rewardAsset:v("FARM")},{asset:v("FDAI_DAI_LP"),address:"0xB492fAEdA6c9FFb9B9854a58F28d5333Ff7a11bc",rewardAsset:v("FARM")},{asset:v("FDAI"),address:"0xF9E5f9024c2f3f2908A1d0e7272861a767C9484b",rewardAsset:v("FARM")},{asset:v("FUSDC"),address:"0xE1f9A3EE001a2EcC906E8de637DBf20BB2d44633",rewardAsset:v("FARM")},{asset:v("FUSDT"),address:"0x5bd997039FFF16F653EF15D1428F2C791519f58d",rewardAsset:v("FARM")},{asset:v("FARM"),address:"0x59258F4e15A5fC74A7284055A8094F58108dbD4f",rewardAsset:v("FARM")},{asset:v("BAL_90_SWRV_10_FARM"),address:"0x44356324864A30216e89193bc8b0F6309227d690",rewardAsset:v("FARM")},{asset:v("BAL_90_CRV_10_FARM"),address:"0x45A760B3E83FF8C107C4df955b1483De0982F393",rewardAsset:v("FARM")},{asset:v("BAL_90_SUSHI_10_FARM"),address:"0x26582BeA67B30AF166b7FCD3424Ba1E0638Ab136",rewardAsset:v("FARM")},{asset:v("BAL_90_YFV_10_FARM"),address:"0x158edB94D0bfC093952fB3009DeeED613042907c",rewardAsset:v("FARM")},{asset:v("BAL_90_LINK_10_FARM"),address:"0x19f8cE19c9730A1d0db5149e65E48c2f0DAa9919",rewardAsset:v("FARM")},{asset:v("BAL_90_PYLON_10_FARM"),address:"0x2f97D9f870a773186CB01742Ff298777BBF6f244",rewardAsset:v("FARM")},{asset:v("BAL_90_BASED_SUSD_LP_10_FARM"),address:"0xf465573288D9D89C6E89b1bc3BC9ce2b997E77dF",rewardAsset:v("FARM")},{asset:v("BAL_90_PASTA_ETH_LP_10_FARM"),address:"0xB4D1D6150dAc0D1A994AfB2A196adadBE639FF95",rewardAsset:v("FARM")},{asset:v("BAL_90_AMPL_ETH_LP_10_FARM"),address:"0x7AF4458D3aBD61C3fd187Bb9f1Bbf917Cd4be9B8",rewardAsset:v("FARM")},{asset:v("FWBTC"),address:"0x6291eCe696CB6682a9bb1d42fca4160771b1D7CC",rewardAsset:v("FARM")},{asset:v("FRENBTC"),address:"0xCFE1103863F9e7Cf3452Ca8932Eef44d314bf9C5",rewardAsset:v("FARM")},{asset:v("FCRVRENWBTC"),address:"0x5365A2C47b90EE8C9317faC20edC3ce7037384FB",rewardAsset:v("FARM")}];var w=[T,h],A=new Set,k=w.map((function(e){return new Set(e)}));k.forEach((function(e){return A=function(e,t){var n=[];e.forEach((function(e){return n.push(e.address)}));var a,s=new Set(e),r=Object(f.a)(t);try{var i=function(){var e=a.value;n.find((function(t){return t===e.address}))||s.add(e)};for(r.s();!(a=r.n()).done;)i()}catch(u){r.e(u)}finally{r.f()}return s}(A,e)}));var M=function(e,t){var n=[];t.forEach((function(e){return n.push(e.address)}));var a,s=new Set(e),r=Object(f.a)(e);try{var i=function(){var e=a.value;n.find((function(t){return t===e.address}))&&s.delete(e)};for(r.s();!(a=r.n()).done;)i()}catch(u){r.e(u)}finally{r.f()}return s}(A,k[k.length-1]),x=k[k.length-1];function _(e){var t,n=Object(f.a)(x);try{for(n.s();!(t=n.n()).done;){if(t.value.address===e)return!0}}catch(a){n.e(a)}finally{n.f()}return!1}b.forEach(Object.freeze),Object.freeze(w),w.forEach((function(e){e.forEach(Object.freeze),Object.freeze(e)})),Object.freeze(A);var g={activePools:Object.freeze(Object(m.a)(x)),allPastPools:Object(m.a)(A),assets:b,assetByAddress:function(e){return b.find((function(t){return t.address.toLowerCase()===e.toLowerCase()}))},assetByName:v,inactivePools:Object(m.a)(M),isAddressActive:_,isActive:function(e){return _(e.address)},periods:w,weekOnePools:T,weekTwoPools:h},O=n(1),F=n.n(O),E=n(2),B=n(3),C=n.n(B),P=n(9),S=JSON.parse('[{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"from","type":"address"},{"name":"to","type":"address"},{"name":"value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"to","type":"address"},{"name":"value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"owner","type":"address"},{"name":"spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"}]'),R=JSON.parse(' [{"inputs":[{"internalType":"address","name":"_rewardToken","type":"address"},{"internalType":"address","name":"_lpToken","type":"address"},{"internalType":"uint256","name":"_duration","type":"uint256"},{"internalType":"address","name":"_rewardDistribution","type":"address"},{"internalType":"address","name":"_storage","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"reward","type":"uint256"}],"name":"RewardAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"reward","type":"uint256"}],"name":"RewardDenied","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"reward","type":"uint256"}],"name":"RewardPaid","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Staked","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Withdrawn","type":"event"},{"constant":true,"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"controller","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"duration","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"earned","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"exit","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"getReward","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"governance","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"lastTimeRewardApplicable","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"lastUpdateTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"lpToken","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"reward","type":"uint256"}],"name":"notifyRewardAmount","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"periodFinish","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"recipient","type":"address"}],"name":"pushReward","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"renounceOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"rewardPerToken","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"rewardPerTokenStored","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"rewardRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"rewardToken","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"rewards","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"_rewardDistribution","type":"address"}],"name":"setRewardDistribution","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"_store","type":"address"}],"name":"setStorage","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"stake","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"store","outputs":[{"internalType":"contract Storage","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"userRewardPerTokenPaid","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"withdraw","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"}]'),D=JSON.parse('[{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sender","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount0","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount1","type":"uint256"},{"indexed":true,"internalType":"address","name":"to","type":"address"}],"name":"Burn","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sender","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount0","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount1","type":"uint256"}],"name":"Mint","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sender","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount0In","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount1In","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount0Out","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount1Out","type":"uint256"},{"indexed":true,"internalType":"address","name":"to","type":"address"}],"name":"Swap","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint112","name":"reserve0","type":"uint112"},{"indexed":false,"internalType":"uint112","name":"reserve1","type":"uint112"}],"name":"Sync","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"constant":true,"inputs":[],"name":"DOMAIN_SEPARATOR","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"MINIMUM_LIQUIDITY","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"PERMIT_TYPEHASH","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"to","type":"address"}],"name":"burn","outputs":[{"internalType":"uint256","name":"amount0","type":"uint256"},{"internalType":"uint256","name":"amount1","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"factory","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getReserves","outputs":[{"internalType":"uint112","name":"_reserve0","type":"uint112"},{"internalType":"uint112","name":"_reserve1","type":"uint112"},{"internalType":"uint32","name":"_blockTimestampLast","type":"uint32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"_token0","type":"address"},{"internalType":"address","name":"_token1","type":"address"}],"name":"initialize","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"kLast","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"to","type":"address"}],"name":"mint","outputs":[{"internalType":"uint256","name":"liquidity","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"nonces","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"permit","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"price0CumulativeLast","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"price1CumulativeLast","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"to","type":"address"}],"name":"skim","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"amount0Out","type":"uint256"},{"internalType":"uint256","name":"amount1Out","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"swap","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"sync","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"token0","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"token1","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"}]'),I=JSON.parse('[{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"src","type":"address"},{"indexed":true,"internalType":"address","name":"dst","type":"address"},{"indexed":false,"internalType":"uint256","name":"amt","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":true,"inputs":[{"indexed":true,"internalType":"bytes4","name":"sig","type":"bytes4"},{"indexed":true,"internalType":"address","name":"caller","type":"address"},{"indexed":false,"internalType":"bytes","name":"data","type":"bytes"}],"name":"LOG_CALL","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"caller","type":"address"},{"indexed":true,"internalType":"address","name":"tokenOut","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenAmountOut","type":"uint256"}],"name":"LOG_EXIT","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"caller","type":"address"},{"indexed":true,"internalType":"address","name":"tokenIn","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenAmountIn","type":"uint256"}],"name":"LOG_JOIN","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"caller","type":"address"},{"indexed":true,"internalType":"address","name":"tokenIn","type":"address"},{"indexed":true,"internalType":"address","name":"tokenOut","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenAmountIn","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"tokenAmountOut","type":"uint256"}],"name":"LOG_SWAP","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"src","type":"address"},{"indexed":true,"internalType":"address","name":"dst","type":"address"},{"indexed":false,"internalType":"uint256","name":"amt","type":"uint256"}],"name":"Transfer","type":"event"},{"constant":true,"inputs":[],"name":"BONE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"BPOW_PRECISION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"EXIT_FEE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"INIT_POOL_SUPPLY","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"MAX_BOUND_TOKENS","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"MAX_BPOW_BASE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"MAX_FEE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"MAX_IN_RATIO","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"MAX_OUT_RATIO","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"MAX_TOTAL_WEIGHT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"MAX_WEIGHT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"MIN_BALANCE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"MIN_BOUND_TOKENS","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"MIN_BPOW_BASE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"MIN_FEE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"MIN_WEIGHT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"src","type":"address"},{"internalType":"address","name":"dst","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"dst","type":"address"},{"internalType":"uint256","name":"amt","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"whom","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"balance","type":"uint256"},{"internalType":"uint256","name":"denorm","type":"uint256"}],"name":"bind","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"tokenBalanceIn","type":"uint256"},{"internalType":"uint256","name":"tokenWeightIn","type":"uint256"},{"internalType":"uint256","name":"tokenBalanceOut","type":"uint256"},{"internalType":"uint256","name":"tokenWeightOut","type":"uint256"},{"internalType":"uint256","name":"tokenAmountOut","type":"uint256"},{"internalType":"uint256","name":"swapFee","type":"uint256"}],"name":"calcInGivenOut","outputs":[{"internalType":"uint256","name":"tokenAmountIn","type":"uint256"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"tokenBalanceIn","type":"uint256"},{"internalType":"uint256","name":"tokenWeightIn","type":"uint256"},{"internalType":"uint256","name":"tokenBalanceOut","type":"uint256"},{"internalType":"uint256","name":"tokenWeightOut","type":"uint256"},{"internalType":"uint256","name":"tokenAmountIn","type":"uint256"},{"internalType":"uint256","name":"swapFee","type":"uint256"}],"name":"calcOutGivenIn","outputs":[{"internalType":"uint256","name":"tokenAmountOut","type":"uint256"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"tokenBalanceOut","type":"uint256"},{"internalType":"uint256","name":"tokenWeightOut","type":"uint256"},{"internalType":"uint256","name":"poolSupply","type":"uint256"},{"internalType":"uint256","name":"totalWeight","type":"uint256"},{"internalType":"uint256","name":"tokenAmountOut","type":"uint256"},{"internalType":"uint256","name":"swapFee","type":"uint256"}],"name":"calcPoolInGivenSingleOut","outputs":[{"internalType":"uint256","name":"poolAmountIn","type":"uint256"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"tokenBalanceIn","type":"uint256"},{"internalType":"uint256","name":"tokenWeightIn","type":"uint256"},{"internalType":"uint256","name":"poolSupply","type":"uint256"},{"internalType":"uint256","name":"totalWeight","type":"uint256"},{"internalType":"uint256","name":"tokenAmountIn","type":"uint256"},{"internalType":"uint256","name":"swapFee","type":"uint256"}],"name":"calcPoolOutGivenSingleIn","outputs":[{"internalType":"uint256","name":"poolAmountOut","type":"uint256"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"tokenBalanceIn","type":"uint256"},{"internalType":"uint256","name":"tokenWeightIn","type":"uint256"},{"internalType":"uint256","name":"poolSupply","type":"uint256"},{"internalType":"uint256","name":"totalWeight","type":"uint256"},{"internalType":"uint256","name":"poolAmountOut","type":"uint256"},{"internalType":"uint256","name":"swapFee","type":"uint256"}],"name":"calcSingleInGivenPoolOut","outputs":[{"internalType":"uint256","name":"tokenAmountIn","type":"uint256"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"tokenBalanceOut","type":"uint256"},{"internalType":"uint256","name":"tokenWeightOut","type":"uint256"},{"internalType":"uint256","name":"poolSupply","type":"uint256"},{"internalType":"uint256","name":"totalWeight","type":"uint256"},{"internalType":"uint256","name":"poolAmountIn","type":"uint256"},{"internalType":"uint256","name":"swapFee","type":"uint256"}],"name":"calcSingleOutGivenPoolIn","outputs":[{"internalType":"uint256","name":"tokenAmountOut","type":"uint256"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":true,"inputs":[{"internalType":"uint256","name":"tokenBalanceIn","type":"uint256"},{"internalType":"uint256","name":"tokenWeightIn","type":"uint256"},{"internalType":"uint256","name":"tokenBalanceOut","type":"uint256"},{"internalType":"uint256","name":"tokenWeightOut","type":"uint256"},{"internalType":"uint256","name":"swapFee","type":"uint256"}],"name":"calcSpotPrice","outputs":[{"internalType":"uint256","name":"spotPrice","type":"uint256"}],"payable":false,"stateMutability":"pure","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"dst","type":"address"},{"internalType":"uint256","name":"amt","type":"uint256"}],"name":"decreaseApproval","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"poolAmountIn","type":"uint256"},{"internalType":"uint256[]","name":"minAmountsOut","type":"uint256[]"}],"name":"exitPool","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"uint256","name":"tokenAmountOut","type":"uint256"},{"internalType":"uint256","name":"maxPoolAmountIn","type":"uint256"}],"name":"exitswapExternAmountOut","outputs":[{"internalType":"uint256","name":"poolAmountIn","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"uint256","name":"poolAmountIn","type":"uint256"},{"internalType":"uint256","name":"minAmountOut","type":"uint256"}],"name":"exitswapPoolAmountIn","outputs":[{"internalType":"uint256","name":"tokenAmountOut","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"finalize","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"token","type":"address"}],"name":"getBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getColor","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getController","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getCurrentTokens","outputs":[{"internalType":"address[]","name":"tokens","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"token","type":"address"}],"name":"getDenormalizedWeight","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getFinalTokens","outputs":[{"internalType":"address[]","name":"tokens","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"token","type":"address"}],"name":"getNormalizedWeight","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getNumTokens","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"address","name":"tokenOut","type":"address"}],"name":"getSpotPrice","outputs":[{"internalType":"uint256","name":"spotPrice","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"address","name":"tokenOut","type":"address"}],"name":"getSpotPriceSansFee","outputs":[{"internalType":"uint256","name":"spotPrice","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getSwapFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getTotalDenormalizedWeight","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"token","type":"address"}],"name":"gulp","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"dst","type":"address"},{"internalType":"uint256","name":"amt","type":"uint256"}],"name":"increaseApproval","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"t","type":"address"}],"name":"isBound","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isFinalized","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isPublicSwap","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"poolAmountOut","type":"uint256"},{"internalType":"uint256[]","name":"maxAmountsIn","type":"uint256[]"}],"name":"joinPool","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"uint256","name":"tokenAmountIn","type":"uint256"},{"internalType":"uint256","name":"minPoolAmountOut","type":"uint256"}],"name":"joinswapExternAmountIn","outputs":[{"internalType":"uint256","name":"poolAmountOut","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"uint256","name":"poolAmountOut","type":"uint256"},{"internalType":"uint256","name":"maxAmountIn","type":"uint256"}],"name":"joinswapPoolAmountOut","outputs":[{"internalType":"uint256","name":"tokenAmountIn","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"balance","type":"uint256"},{"internalType":"uint256","name":"denorm","type":"uint256"}],"name":"rebind","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"manager","type":"address"}],"name":"setController","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bool","name":"public_","type":"bool"}],"name":"setPublicSwap","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"swapFee","type":"uint256"}],"name":"setSwapFee","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"uint256","name":"tokenAmountIn","type":"uint256"},{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"uint256","name":"minAmountOut","type":"uint256"},{"internalType":"uint256","name":"maxPrice","type":"uint256"}],"name":"swapExactAmountIn","outputs":[{"internalType":"uint256","name":"tokenAmountOut","type":"uint256"},{"internalType":"uint256","name":"spotPriceAfter","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"uint256","name":"maxAmountIn","type":"uint256"},{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"uint256","name":"tokenAmountOut","type":"uint256"},{"internalType":"uint256","name":"maxPrice","type":"uint256"}],"name":"swapExactAmountOut","outputs":[{"internalType":"uint256","name":"tokenAmountIn","type":"uint256"},{"internalType":"uint256","name":"spotPriceAfter","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"dst","type":"address"},{"internalType":"uint256","name":"amt","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"src","type":"address"},{"internalType":"address","name":"dst","type":"address"},{"internalType":"uint256","name":"amt","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"token","type":"address"}],"name":"unbind","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"}]'),j=JSON.parse('[{"name":"Transfer","inputs":[{"type":"address","name":"_from","indexed":true},{"type":"address","name":"_to","indexed":true},{"type":"uint256","name":"_value","indexed":false}],"anonymous":false,"type":"event"},{"name":"Approval","inputs":[{"type":"address","name":"_owner","indexed":true},{"type":"address","name":"_spender","indexed":true},{"type":"uint256","name":"_value","indexed":false}],"anonymous":false,"type":"event"},{"outputs":[],"inputs":[{"type":"string","name":"_name"},{"type":"string","name":"_symbol"},{"type":"uint256","name":"_decimals"},{"type":"uint256","name":"_supply"}],"constant":false,"payable":false,"type":"constructor"},{"name":"set_minter","outputs":[],"inputs":[{"type":"address","name":"_minter"}],"constant":false,"payable":false,"type":"function","gas":36247},{"name":"totalSupply","outputs":[{"type":"uint256","name":"out"}],"inputs":[],"constant":true,"payable":false,"type":"function","gas":1181},{"name":"allowance","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"address","name":"_owner"},{"type":"address","name":"_spender"}],"constant":true,"payable":false,"type":"function","gas":1519},{"name":"transfer","outputs":[{"type":"bool","name":"out"}],"inputs":[{"type":"address","name":"_to"},{"type":"uint256","name":"_value"}],"constant":false,"payable":false,"type":"function","gas":74802},{"name":"transferFrom","outputs":[{"type":"bool","name":"out"}],"inputs":[{"type":"address","name":"_from"},{"type":"address","name":"_to"},{"type":"uint256","name":"_value"}],"constant":false,"payable":false,"type":"function","gas":111953},{"name":"approve","outputs":[{"type":"bool","name":"out"}],"inputs":[{"type":"address","name":"_spender"},{"type":"uint256","name":"_value"}],"constant":false,"payable":false,"type":"function","gas":39012},{"name":"mint","outputs":[],"inputs":[{"type":"address","name":"_to"},{"type":"uint256","name":"_value"}],"constant":false,"payable":false,"type":"function","gas":75733},{"name":"burn","outputs":[],"inputs":[{"type":"uint256","name":"_value"}],"constant":false,"payable":false,"type":"function","gas":76623},{"name":"burnFrom","outputs":[],"inputs":[{"type":"address","name":"_to"},{"type":"uint256","name":"_value"}],"constant":false,"payable":false,"type":"function","gas":76696},{"name":"symbol","outputs":[{"type":"string","name":"out"}],"inputs":[],"constant":true,"payable":false,"type":"function","gas":6906},{"name":"decimals","outputs":[{"type":"uint256","name":"out"}],"inputs":[],"constant":true,"payable":false,"type":"function","gas":1511},{"name":"balanceOf","outputs":[{"type":"uint256","name":"out"}],"inputs":[{"type":"address","name":"arg0"}],"constant":true,"payable":false,"type":"function","gas":11695}]'),L=JSON.parse('[{"inputs":[{"internalType":"address","name":"_storage","type":"address"},{"internalType":"address","name":"_underlying","type":"address"},{"internalType":"uint256","name":"_toInvestNumerator","type":"uint256"},{"internalType":"uint256","name":"_toInvestDenominator","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"beneficiary","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Deposit","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Invest","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"beneficiary","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Withdraw","type":"event"},{"constant":true,"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"availableToInvestOut","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"contributions","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"controller","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"deposit","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"address","name":"holder","type":"address"}],"name":"depositFor","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"doHardWork","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"holder","type":"address"}],"name":"getContributions","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getPricePerFullShare","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"holder","type":"address"}],"name":"getWithdrawals","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"governance","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"rebalance","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"_store","type":"address"}],"name":"setStorage","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"_strategy","type":"address"}],"name":"setStrategy","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"numerator","type":"uint256"},{"internalType":"uint256","name":"denominator","type":"uint256"}],"name":"setVaultFractionToInvest","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"store","outputs":[{"internalType":"contract Storage","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"strategy","outputs":[{"internalType":"contract IStrategy","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"underlying","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"underlyingBalanceInVault","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"underlyingBalanceWithInvestment","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"holder","type":"address"}],"name":"underlyingBalanceWithInvestmentForHolder","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"underlyingUnit","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"vaultFractionToInvestDenominator","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"vaultFractionToInvestNumerator","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"numberOfShares","type":"uint256"}],"name":"withdraw","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"withdrawAll","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"withdrawals","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"}]'),U=function(){function e(){Object(p.a)(this,e),this.balances={}}return Object(l.a)(e,[{key:"_ingest",value:function(e,t){t.isZero()||(this.balances[e]?this.balances[e]=this.balances[e].add(t):this.balances[e]=t)}},{key:"ingest",value:function(e){var t=this;return e.forEach((function(e){return t._ingest(e.asset.name,e.balance)})),this}},{key:"combine",value:function(e){var t=this;return Object.entries(e.balances).forEach((function(e){var n=Object(P.a)(e,2),a=n[0],s=n[1];return t._ingest(a,s)})),this}},{key:"toList",value:function(){return Object.entries(this.balances).map((function(e){var t=Object(P.a)(e,2),n=t[0],a=t[1];return{asset:g.assetByName(n),balance:a}}))}}]),e}(),W=function(e){Object(y.a)(n,e);var t=Object(o.a)(n);function n(e,a,s){var r;return Object(p.a)(this,n),(r=t.call(this,e.address,e.decimals,a,s)).type=e.type,r.tokenDecimals=e.decimals,r.asset=e,r}return Object(l.a)(n,null,[{key:"fromAsset",value:function(e,t){switch(e.type){case"balancer":return new G(e,t);case"uniswap":return new V(e,t);case"curve":return new Y(e,t);case"ftoken":return new H(e,t);default:return new n(e,S,t)}}},{key:"fromAddress",value:function(e,t){return n.fromAsset(g.assetByAddress(e),t)}}]),n}(function(e){Object(y.a)(n,e);var t=Object(o.a)(n);function n(e,a,s,r){var i;if(Object(p.a)(this,n),!r)throw new Error("Must give a provider");return(i=t.call(this,e,s,r)).asset=g.assetByAddress(e),i.tokenDecimals=i.asset.decimals,i.name=i.asset.name,i}return Object(l.a)(n,[{key:"percentageOfTotal",value:function(){var e=Object(E.a)(F.a.mark((function e(t){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.totalSupply();case 2:return n=e.sent,e.abrupt("return",C.a.utils.formatUnits(t.mul(100).div(n),2)+"%");case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"percentageOwnership",value:function(){var e=Object(E.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,this.balanceOf(t);case 3:return e.t1=e.sent,e.abrupt("return",e.t0.percentageOfTotal.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(C.a.Contract)),N=function(e){Object(y.a)(n,e);var t=Object(o.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"currentTokens",value:function(){var e=Object(E.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error("currentTokens is abstract, and must be implemented on a subclass");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getReserves",value:function(){var e=Object(E.a)(F.a.mark((function e(){var t,n,a,s=this;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.currentTokens();case 2:return t=e.sent,e.next=5,Promise.all(t.map((function(e){return e.balanceOf(s.address)})));case 5:return n=e.sent,a=n.map((function(e,n){return{asset:t[n].asset,balance:e}})),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"calcShare",value:function(){var e=Object(E.a)(F.a.mark((function e(t,n){var a,s,r,i,u,p,l,o,y,d;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.totalSupply(),this.getReserves()]);case 2:a=e.sent,s=Object(P.a)(a,2),r=s[0],i=s[1],u=new U,p=Object(f.a)(i),e.prev=8,p.s();case 10:if((l=p.n()).done){e.next=25;break}if(o=l.value,y=o.balance.mul(t).div(r),!o.asset.type||!n){e.next=22;break}return d=W.fromAsset(o.asset,this.provider),e.t0=u,e.next=18,d.calcShare(y,n);case 18:e.t1=e.sent,e.t0.combine.call(e.t0,e.t1),e.next=23;break;case 22:u.ingest([{asset:o.asset,balance:y}]);case 23:e.next=10;break;case 25:e.next=30;break;case 27:e.prev=27,e.t2=e.catch(8),p.e(e.t2);case 30:return e.prev=30,p.f(),e.finish(30);case 33:return e.abrupt("return",u);case 34:case"end":return e.stop()}}),e,this,[[8,27,30,33]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"underlyingBalanceOf",value:function(){var e=Object(E.a)(F.a.mark((function e(t,n){var a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.balanceOf(t);case 2:return a=e.sent,e.abrupt("return",this.calcShare(a,n));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(W),H=function(e){Object(y.a)(n,e);var t=Object(o.a)(n);function n(e,a){var s;return Object(p.a)(this,n),(s=t.call(this,e,L,a)).underlyingAsset=e.underlyingAsset,s._currentTokens=[W.fromAddress(s.underlyingAsset.address,s.provider)],s}return Object(l.a)(n,[{key:"currentTokens",value:function(){var e=Object(E.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._currentTokens);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getReserves",value:function(){var e=Object(E.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.underlyingAsset,e.next=3,this.underlyingBalanceWithInvestment();case 3:return e.t1=e.sent,e.t2={asset:e.t0,balance:e.t1},e.abrupt("return",[e.t2]);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"calcShare",value:function(){var e=Object(E.a)(F.a.mark((function e(t){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,this.getPricePerFullShare();case 3:return e.t1=e.sent,n=e.t0.mul.call(e.t0,e.t1).div(C.a.BigNumber.from(10).pow(this.underlyingAsset.decimals)),e.abrupt("return",(new U).ingest([{asset:this.underlyingAsset,balance:n}]));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(N),V=function(e){Object(y.a)(n,e);var t=Object(o.a)(n);function n(e,a){var s;return Object(p.a)(this,n),(s=t.call(this,e,D,a)).reserve0=Object(E.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getReserves()[0];case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),s.reserve1=Object(E.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getReserves()[1];case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),s}return Object(l.a)(n,[{key:"getToken0",value:function(){var e=Object(E.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._token0){e.next=2;break}return e.abrupt("return",this._token0);case 2:return e.next=4,this.token0();case 4:return t=e.sent,this._token0=W.fromAddress(t,this.provider),e.abrupt("return",this._token0);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getToken1",value:function(){var e=Object(E.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._token1){e.next=2;break}return e.abrupt("return",this._token1);case 2:return e.next=4,this.token1();case 4:return t=e.sent,this._token1=W.fromAddress(t,this.provider),e.abrupt("return",this._token1);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"currentTokens",value:function(){var e=Object(E.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([this.getToken0(),this.getToken1()]));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(N),Y=function(e){Object(y.a)(n,e);var t=Object(o.a)(n);function n(e,a){var s;return Object(p.a)(this,n),(s=t.call(this,e,j,a)).curveInfo=e.curveInfo,s}return Object(l.a)(n,[{key:"currentTokens",value:function(){var e=Object(E.a)(F.a.mark((function e(){var t=this;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._getCurrentTokens){e.next=2;break}return e.abrupt("return",this._getCurrentTokens);case 2:return this._getCurrentTokens=this.curveInfo.assets.map((function(e){return W.fromAddress(e.address,t.provider)})),e.abrupt("return",this._getCurrentTokens);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getReserves",value:function(){var e=Object(E.a)(F.a.mark((function e(){var t,n,a,s=this;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.currentTokens();case 2:return t=e.sent,e.next=5,Promise.all(t.map((function(e){return e.balanceOf(s.curveInfo.poolAddress)})));case 5:return n=e.sent,a=n.map((function(e,n){return{asset:t[n].asset,balance:e}})),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(N),G=function(e){Object(y.a)(n,e);var t=Object(o.a)(n);function n(e,a){return Object(p.a)(this,n),t.call(this,e,I,a)}return Object(l.a)(n,[{key:"currentTokens",value:function(){var e=Object(E.a)(F.a.mark((function e(){var t,n=this;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._getCurrentTokens){e.next=2;break}return e.abrupt("return",this._getCurrentTokens);case 2:return t=[],e.next=5,this.getCurrentTokens();case 5:return e.sent.forEach((function(e){t.push(W.fromAddress(e,n.provider))})),this._getCurrentTokens=t,e.abrupt("return",this._getCurrentTokens);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getReserves",value:function(){var e=Object(E.a)(F.a.mark((function e(){var t,n,a,s=this;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.currentTokens();case 2:return t=e.sent,e.next=5,Promise.all(t.map((function(e){return e.balanceOf(s.address)})));case 5:return n=e.sent,a=t.map((function(e,t){return{asset:e.asset,balance:n[t]}})),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(N),z=function(e){Object(y.a)(n,e);var t=Object(o.a)(n);function n(e,a){var s;return Object(p.a)(this,n),(s=t.call(this,e.address,R,a)).name=e.asset.name,s._pool=e,s.lptoken=W.fromAsset(e.asset,a),s.unstakedBalance=s.lptoken.balanceOf,s.stakedBalance=s.balanceOf,s.earnedRewards=s.earned,s.lptoken.underlyingBalanceOf&&(s.underlyingBalanceOf=function(){var e=Object(E.a)(F.a.mark((function e(t,n){var a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.balanceOf(t);case 2:return a=e.sent,e.abrupt("return",s.lptoken.calcShare(a,n));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),s}return Object(l.a)(n,[{key:"percentageOfTotal",value:function(){var e=Object(E.a)(F.a.mark((function e(t){var n,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.totalSupply();case 2:return n=e.sent,a=t.mul(C.a.constants.WeiPerEther).div(n),e.abrupt("return",C.a.utils.formatUnits(a,16).slice(0,5)+"%");case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"percentageOwnership",value:function(){var e=Object(E.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,this.balanceOf(t);case 3:return e.t1=e.sent,e.abrupt("return",e.t0.percentageOfTotal.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isActive",value:function(){return g.isAddressActive(this.address)}},{key:"summary",value:function(){var e=Object(E.a)(F.a.mark((function e(t){var n,a,s,r,i,u,p,l,o,y=this;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){var e=Object(E.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y.underlyingBalanceOf){e.next=4;break}return e.next=3,y.underlyingBalanceOf(t);case 3:return e.abrupt("return",e.sent);case 4:return e.abrupt("return",{});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=3,Promise.all([this.stakedBalance(t),this.unstakedBalance(t),this.earnedRewards(t),n(t),this.percentageOwnership(t)]);case 3:return a=e.sent,s=Object(P.a)(a,5),r=s[0],i=s[1],u=s[2],p=s[3],l=s[4],o={user:t,pool:this._pool,isActive:this.isActive(),stakedBalance:r,unstakedBalance:i,earnedRewards:u,percentageOwnership:l},p&&(o.underlyingBalanceOf=p),e.abrupt("return",o);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"knownPools",value:function(e){return g.pools.map((function(t){return new n(t,e)}))}},{key:"weekOne",value:function(e){return g.weekOnePools.map((function(t){return new n(t,e)}))}},{key:"weekTwo",value:function(e){return g.weekTwoPools.map((function(t){return new n(t,e)}))}},{key:"activePools",value:function(e){return g.activePools.map((function(t){return new n(t,e)}))}},{key:"inactivePools",value:function(e){return g.inactivePools.map((function(t){return new n(t,e)}))}},{key:"allPastPools",value:function(e){return g.allPastPools.map((function(t){return new n(t,e)}))}}]),n}(C.a.Contract),J=function(){function e(t,n){Object(p.a)(this,e),this.pools=t,this.provider=n}return Object(l.a)(e,[{key:"staked",value:function(t){return e._mapToPools(this.pools,["balanceOf"],[t],"stakedBalance")}},{key:"unstaked",value:function(t){return e._mapToPools(this.pools,["unstakedBalance"],[t],"unstakedBalance")}},{key:"earned",value:function(t){return e._mapToPools(this.pools,["earned"],[t],"earnedRewards")}},{key:"underlying",value:function(t,n){return e._mapToPools(this.pools,["underlyingBalanceOf"],[t,n],"underlyingBalances").then((function(e){return e.filter((function(e){return!!e}))}))}},{key:"aggregateUnderlyings",value:function(e){return this.underlying(e,!0).then((function(e){var t=new U;return e.reduce((function(e,t){return e.combine(t.underlyingBalances)}),t),t}))}},{key:"summary",value:function(t){return e._mapToPools(this.pools,["summary"],[t],"summary")}},{key:"getRewards",value:function(e,t){if(!C.a.Signer.isSigner(this.provider))throw new Error("No signer");t=t||{};var n=this.provider.getAddress(),a=e||C.a.constants.WeiPerEther,s=this.pools.map(function(){var e=Object(E.a)(F.a.mark((function e(s){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.earned(n);case 2:if(!e.sent.gt(a)){e.next=9;break}return e.t0=s.name,e.next=7,s.getReward(t);case 7:return e.t1=e.sent,e.abrupt("return",{name:e.t0,getReward:e.t1});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Promise.all(s).then((function(e){return e.filter((function(e){return!!e}))}))}},{key:"_exitPools",value:function(e,t){var n=this;if(!C.a.Signer.isSigner(this.provider))throw new Error("No signer");var a=e.map(function(){var e=Object(E.a)(F.a.mark((function e(a){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.staked(n.provider.getAddress());case 2:if(!e.sent.gt(0)){e.next=9;break}return e.t0=a.name,e.next=7,a.exit(t);case 7:return e.t1=e.sent,e.abrupt("return",{name:e.t0,exit:e.t1});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Promise.all(a).then((function(e){return e.filter((function(e){return"undefined"!==typeof e}))}))}},{key:"exitAll",value:function(e){return this._exitPools(this.pools,e)}},{key:"exitInactive",value:function(e){return this._exitPools(this.pools.filter((function(e){return!e.isActive()})),e)}}],[{key:"weekOne",value:function(t){return new e(z.weekOne(t),t)}},{key:"weekTwo",value:function(t){return new e(z.weekTwo(t),t)}},{key:"activePools",value:function(t){return new e(z.activePools(t),t)}},{key:"inactivePools",value:function(t){return new e(z.inactivePools(t),t)}},{key:"allPastPools",value:function(t){return new e(z.allPastPools(t),t)}},{key:"_mapToPools",value:function(e,t,n,a){var s=function(){var e=Object(E.a)(F.a.mark((function e(s){var r,i,u;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a||t[t.length-1],i=s,t.forEach((function(e){i=i[e]})),!i){e.next=11;break}return(u={}).name=s.name,u.address=s.address,e.next=9,i.apply(s,Object(m.a)(n));case 9:return u[r]=e.sent,e.abrupt("return",u);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Promise.all(e.map(s))}}]),e}(),X={data:g,ethers:C.a,HarvestRewardsPool:z,PoolManager:J},Z=n(27),K=n.n(Z),q=function(){function e(t){Object(p.a)(this,e),this.url=t,this._memos={}}return Object(l.a)(e,[{key:"checkMemo",value:function(e,t){if(this._memos[e]&&this._memos[e].validUntil>=t)return this._memos[e].price}},{key:"memoize",value:function(e,t,n){var a=C.a.BigNumber.from(parseInt(100*t));return this._memos[e]={validUntil:n,price:t},a}},{key:"_getPrices",value:function(){var e=Object(E.a)(F.a.mark((function e(t){var n,a,s,r,i,u=this;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},a=Date.now(),t.forEach((function(e){var t=u.checkMemo(e,a);t&&(n[e]=t)})),s=t.filter((function(e){return!n[e]})).join(","),r="".concat(this.url,"?contract_addresses=").concat(s,"&vs_currencies=USD"),e.next=7,K.a.get(r);case 7:return i=e.sent,Object.entries(i.data).forEach((function(e){var t=Object(P.a)(e,2),s=t[0],r=t[1].usd;n[s]=u.memoize(s,r,a+3e5)})),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPrice",value:function(e){return this._getPrices([e])}},{key:"getPrices",value:function(e){return this._getPrices(e)}}]),e}(),Q=function(){var e={};function t(t){return e[t=t||"https://api.coingecko.com/api/v3/simple/token_price/ethereum"]||(e[t]=function(e){return new q(e)}(t)),e[t]}return{coingecko:function(){return t()},fromUrl:t}}();var $={prettyUnderlying:function(e){var t=e.underlyingBalances.toList();if(!t[0].balance.isZero())return{asset:e.name,underlyingBalances:t.map((function(e){var t=e.asset,n=t.name,a=t.decimals;return{name:n,balance:C.a.utils.formatUnits(e.balance,a)}}))}},prettyPosition:function(e){var t=e.name,n=e.summary,a=n.pool,s=a.address,r=a.asset.decimals,i=n.isActive,u=n.stakedBalance,p=n.unstakedBalance,l=n.earnedRewards,o=n.percentageOwnership;return{name:t,address:s,isActive:i,stakedBalance:C.a.utils.formatUnits(u,r),unstakedBalance:C.a.utils.formatUnits(p,r),earnedRewards:C.a.utils.formatUnits(l,18),percentOfPool:o}}},ee={ethers:C.a,gecko:Q,manager:X,pool:a,deploys:g,utils:$},te=(n(53),ee.ethers),ne=function(e){Object(y.a)(n,e);var t=Object(o.a)(n);function n(e,a){var s;return Object(p.a)(this,n),(s=t.call(this,e)).keys=a,s}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("table",{id:"summaries"},r.a.createElement("tbody",null,r.a.createElement("tr",null,this.renderTableHeader()),this.renderTableData())))}},{key:"renderTableHeader",value:function(){return this.keys.map((function(e,t){return r.a.createElement("th",{key:t},e)}))}}]),n}(s.Component),ae=function(e){Object(y.a)(n,e);var t=Object(o.a)(n);function n(e){return Object(p.a)(this,n),t.call(this,e,["Pool","Earning","Staked Balance","Unstaked Balance","Earned Rewards","Pool%"])}return Object(l.a)(n,[{key:"renderTableData",value:function(){return this.props.data.map(ee.utils.prettyPosition).map((function(e,t){return r.a.createElement("tr",{key:e.address},r.a.createElement("td",null,e.name),r.a.createElement("td",null,String(e.isActive)),r.a.createElement("td",null,e.stakedBalance),r.a.createElement("td",null,e.unstakedBalance),r.a.createElement("td",null,e.earnedRewards),r.a.createElement("td",null,e.percentOfPool))}))}}]),n}(ne),se=function(e){Object(y.a)(n,e);var t=Object(o.a)(n);function n(e){return Object(p.a)(this,n),t.call(this,e,["Asset","Underlying Balance"])}return Object(l.a)(n,[{key:"renderTableData",value:function(){return this.props.data.filter((function(e){return!e.balance.isZero()})).map((function(e,t){return r.a.createElement("tr",{key:e.asset.address},r.a.createElement("td",null,e.asset.name),r.a.createElement("td",null,te.utils.formatUnits(e.balance,e.asset.decimals)))}))}}]),n}(ne),re=ee.ethers,ie=function(e){Object(y.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={provider:void 0,signer:void 0,address:"",manager:void 0,summaries:[],underlyings:[]},a}return Object(l.a)(n,[{key:"setProvider",value:function(e){var t,n=this;e=new re.providers.Web3Provider(e);try{t=e.getSigner()}catch(s){console.log(s)}var a=ee.manager.PoolManager.allPastPools(t||e);this.setState({provider:e,signer:t,manager:a}),console.log({provider:e,signer:t,manager:a}),t.getAddress().then((function(e){return n.setState({address:e})}))}},{key:"connectMetamask",value:function(){var e=this;c()().then((function(t){window.ethereum.enable().then((function(){return e.setProvider(t)}))}))}},{key:"refreshButtonAction",value:function(){var e=this;console.log("refreshing"),this.state.manager.aggregateUnderlyings(this.state.address).then((function(e){return e.toList().filter((function(e){return!e.balance.isZero()}))})).then((function(t){return e.setState({underlyings:t}),t})).then(console.table),this.state.manager.summary(this.state.address).then((function(e){return e.filter((function(e){return!e.summary.earnedRewards.isZero()||!e.summary.stakedBalance.isZero()||e.summary.isActive&&!e.summary.unstakedBalance.isZero()}))})).then((function(t){return e.setState({summaries:t}),t})).then(console.table)}},{key:"harvestButtonAction",value:function(){console.log("harvesting");var e=document.getElementById("minHarvest").value,t=e?re.utils.parseUnits(e,18):re.constants.WeiPerEther.div(10);this.state.manager.getRewards(t)}},{key:"exitInactiveButtonAction",value:function(){console.log("exiting inactive"),this.state.manager.exitInactive()}},{key:"render",value:function(){var e=this.renderConnectStatus(),t=this.renderRefreshButton(),n=this.renderHarvestAll(),a=this.renderExitInactiveButton(),s=this.renderMainTable(),i=this.renderUnderlyingTable();return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,"Harvest Finance Dashboard"),e,t,s,n,a,i,r.a.createElement("p",null,"Add assets to wallet: \xa0",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://harvestfi.github.io/add-farm/"},"FARM"),"\xa0",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://harvestfi.github.io/add-fusdc/"},"fUSDC"),"\xa0",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://harvestfi.github.io/add-fusdt/"},"fUSDT"),"\xa0",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://harvestfi.github.io/add-fdai/"},"fDAI"),"\xa0",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://harvestfi.github.io/add-fwbtc/"},"fwBTC"),"\xa0",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://harvestfi.github.io/add-frenbtc/"},"frenBTC"),"\xa0",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://harvestfi.github.io/add-fcrvrenwbtc/"},"fcrvRenWBTC"),"\xa0\u2014\xa0",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://farm.chainwiki.dev"},"Harvest Wiki")),r.a.createElement("p",null,"Please consider donating: 0x84BB14595Fd30a53cbE18e68085D42645901D8B6")))}},{key:"renderMainTable",value:function(){return 0!==this.state.summaries.length?r.a.createElement(ae,{data:this.state.summaries}):r.a.createElement("div",null)}},{key:"renderUnderlyingTable",value:function(){return 0!==this.state.underlyings.length?r.a.createElement("div",null,r.a.createElement("p",null,"Your position includes LP tokens that can be redeemed for the following:"),r.a.createElement("p",null,r.a.createElement(se,{data:this.state.underlyings}))):r.a.createElement("div",null)}},{key:"renderConnectStatus",value:function(){return this.state.provider?r.a.createElement("p",null,"Your wallet address is: ",r.a.createElement("span",{id:"address"},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.state.address?"https://etherscan.io/address/"+this.state.address:"#"},this.state.address||"not connected"))):r.a.createElement("div",null,"Start here: ",r.a.createElement("button",{onClick:this.connectMetamask.bind(this)},"Connect Wallet"))}},{key:"renderHarvestAll",value:function(){if(0!==this.state.summaries.length){var e=this.renderHarvestButton();return r.a.createElement("p",null,"Harvest all farms with at least ",r.a.createElement("input",{type:"text",id:"minHarvest",placeholder:"min"})," FARM rewards ",e)}return r.a.createElement("div",null)}},{key:"renderRefreshButton",value:function(){var e=0===this.state.summaries.length?"Click to load the table!":"Refresh Table";return r.a.createElement("div",null,r.a.createElement("button",{disabled:!this.state.provider,onClick:this.refreshButtonAction.bind(this)},e))}},{key:"renderHarvestButton",value:function(){return r.a.createElement("button",{disabled:!this.state.provider,onClick:this.harvestButtonAction.bind(this)},"Harvest All")}},{key:"renderExitInactiveButton",value:function(){return 0!==this.state.summaries.filter((function(e){return e.stakedBalance&&!e.isActive})).length?r.a.createElement("div",null,r.a.createElement("button",{disabled:!this.state.provider,onClick:this.exitInactiveButtonAction.bind(this)},"Exit inactive pools")):r.a.createElement("div",null)}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.579be87a.chunk.js.map