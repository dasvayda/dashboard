{"version":3,"sources":["lib/data/deploys.js","lib/data/ABIs.js","lib/tokens.js","lib/pool.js","lib/manager.js","lib/gecko.js","lib/utils.js","lib/index.js","components/MainTable.js","App.js","serviceWorker.js","index.js"],"names":["assets","name","type","decimals","address","assetByName","find","asset","push","curveInfo","poolAddress","underlyingAsset","weekOnePools","rewardAsset","weekTwoPools","periods","allPastPools","Set","sets","map","period","forEach","set","setA","setB","has","val","_union","elem","e","add","union","inactivePools","_difference","delete","difference","length","activePools","isAddressActive","Object","freeze","week","assetByAddress","toLowerCase","isActive","pool","ERC20_ABI","JSON","parse","REWARDS_ABI","UNISWAP_PAIR_ABI","BALANCER_ABI","CURVE_ABI","FTOKEN_ABI","UnderlyingBalances","this","balances","balance","isZero","entries","entry","_ingest","other","data","Token","abi","provider","tokenDecimals","BalancerToken","UniswapToken","CurveToken","FToken","fromAsset","Error","tokens","totalSupply","total","ethers","utils","formatUnits","mul","div","balanceOf","percentageOfTotal","Contract","HasUnderlying","currentTokens","Promise","all","tok","output","idx","passthrough","getReserves","reserves","shares","reserve","token","calcShare","combine","ingest","_currentTokens","fromAddress","underlyingBalanceWithInvestment","getPricePerFullShare","BigNumber","from","pow","reserve0","a","reserve1","_token0","token0","_token1","token1","getToken0","getToken1","_getCurrentTokens","getCurrentTokens","HarvestRewardsPool","_pool","lptoken","unstakedBalance","stakedBalance","earnedRewards","earned","underlyingBalanceOf","based","constants","WeiPerEther","slice","underlying","percentageOwnership","user","pools","PoolManager","_mapToPools","then","vs","filter","v","underlyings","aggregateUnderlyings","reduce","acc","next","underlyingBalances","min","overrides","Signer","isSigner","getAddress","lowerBound","promises","gt","getReward","vals","staked","exit","_exitPools","weekOne","weekTwo","functionPath","args","propName","f","prop","func","apply","GeckoApi","url","_memos","time","validUntil","price","bnPrice","parseInt","addresses","result","Date","now","memo","checkMemo","s","join","axios","get","response","usd","memoize","_getPrices","Gecko","instances","fromUrl","createInstance","coingecko","prettyUnderlying","u","underlyingBalancesList","toList","prettyPosition","sum","summary","percentOfPool","gecko","manager","deploys","harvest","Table","props","keys","id","renderTableHeader","renderTableData","key","index","Component","MainTable","String","UnderlyingTable","App","state","undefined","signer","summaries","providers","Web3Provider","getSigner","console","log","setState","detectEthereumProvider","window","ethereum","enable","setProvider","table","p","minHarvestInput","document","getElementById","value","minHarvest","parseUnits","getRewards","exitInactive","connectBtn","renderConnectStatus","refreshBtn","renderRefreshButton","harvestAll","renderHarvestAll","renderExitInactiveButton","renderMainTable","underlyingTable","renderUnderlyingTable","className","target","rel","href","onClick","connectMetamask","bind","harvestBtn","renderHarvestButton","placeholder","buttonText","disabled","refreshButtonAction","harvestButtonAction","exitInactiveButtonAction","React","Boolean","location","hostname","match","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.579be87a.chunk.js","sourcesContent":["// This file is a mess\n\nconst assets = [\n  {\n    name: 'BAL_95_USDC_5_FARM',\n    type: 'balancer',\n    decimals: 18,\n    address: '0x0395e4a17ff11d36dac9959f2d7c8eca10fe89c9',\n  },\n  {\n    name: 'FARM_USDC_LP',\n    type: 'uniswap',\n    decimals: 18,\n    address: '0x514906FC121c7878424a5C928cad1852CC545892',\n  },\n  {\n    name: 'YFV',\n    decimals: 18,\n    address: '0x45f24baeef268bb6d63aee5129015d69702bcdfa',\n  },\n  {\n    name: 'YFII',\n    decimals: 18,\n    address: '0xa1d0E215a23d7030842FC67cE582a6aFa3CCaB83',\n  },\n  {\n    name: 'WETH',\n    decimals: 18,\n    address: '0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2',\n  },\n  {\n    name: 'LINK',\n    decimals: 18,\n    address: '0x514910771af9ca656af840dff83e8264ecf986ca',\n  },\n  {\n    name: 'YFI',\n    decimals: 18,\n    address: '0x0bc529c00c6401aef6d220be8c6ea1667f6ad93e',\n  },\n  {\n    name: 'SUSHI',\n    decimals: 18,\n    address: '0x6b3595068778dd592e39a122f4f5a5cf09c90fe2',\n  },\n  {\n    name: 'OGN',\n    decimals: 18,\n    address: '0x8207c1ffc5b6804f6024322ccf34f29c3541ae26',\n  },\n  {\n    name: 'BASED_SUSD_LP',\n    type: 'uniswap',\n    decimals: 18,\n    address: '0xaad22f5543fcdaa694b68f94be177b561836ae57',\n  },\n  {\n    name: 'PASTA_ETH_LP',\n    type: 'uniswap',\n    decimals: 18,\n    address: '0xe92346d9369fe03b735ed9bdeb6bdc2591b8227e',\n  },\n  {\n    name: 'FARM',\n    decimals: 18,\n    address: '0xa0246c9032bc3a600820415ae600c6388619a14d',\n  },\n  {\n    name: 'USDC',\n    decimals: 6,\n    address: '0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48',\n  },\n  {\n    name: 'USDT',\n    decimals: 6,\n    address: '0xdac17f958d2ee523a2206206994597c13d831ec7',\n  },\n  {\n    name: 'DAI',\n    decimals: 18,\n    address: '0x6b175474e89094c44da98b954eedeac495271d0f',\n  },\n  {\n    name: 'SUSD',\n    decimals: 18,\n    address: '0x57ab1ec28d129707052df4df418d58a2d46d5f51',\n  },\n  {\n    name: 'BASED',\n    decimals: 18,\n    address: '0x68A118Ef45063051Eac49c7e647CE5Ace48a68a5',\n  },\n  {\n    name: 'PASTA',\n    decimals: 18,\n    address: '0xE54f9E6Ab80ebc28515aF8b8233c1aeE6506a15E',\n  },\n  {\n    name: 'BAL_80_USDC_20_FARM',\n    type: 'balancer',\n    decimals: 18,\n    address: '0x0126CfA7EC6B6d4A960b5979943c06a9742af55E',\n  },\n  {\n    name: 'BAL_90_SWRV_10_FARM',\n    type: 'balancer',\n    decimals: 18,\n    address: '0xf9F2dF6e0e369145481a32Fcd260E353AA20c1a6',\n  },\n  {\n    name: 'BAL_90_CRV_10_FARM',\n    type: 'balancer',\n    decimals: 18,\n    address: '0xac6bac9Dc3de2c14b420E287De8ECB330d96E492',\n  },\n  {\n    name: 'BAL_90_SUSHI_10_FARM',\n    type: 'balancer',\n    decimals: 18,\n    address: '0xB39Ce7fa5953beBC6697112e88cd11579CBCA579',\n  },\n  {\n    name: 'BAL_90_YFV_10_FARM',\n    type: 'balancer',\n    decimals: 18,\n    address: '0x97cD8E51cd6C888567c6c620188B8Fb264EE8E91',\n  },\n  {\n    name: 'BAL_90_LINK_10_FARM',\n    type: 'balancer',\n    decimals: 18,\n    address: '0x418d3DfcA5099923Cd57e0Bf9Ed1e9994f515152',\n  },\n  {\n    name: 'BAL_90_PYLON_10_FARM',\n    type: 'balancer',\n    decimals: 18,\n    address: '0x1e2dA0aa71155726C5C0E39AF76Ac0c2e8F74bEF',\n  },\n  {\n    name: 'BAL_90_BASED_SUSD_LP_10_FARM',\n    type: 'balancer',\n    decimals: 18,\n    address: '0xf76206115617f090f5a49961a78BCf99BB91cFeE',\n  },\n  {\n    name: 'BAL_90_PASTA_ETH_LP_10_FARM',\n    type: 'balancer',\n    decimals: 18,\n    address: '0xa3e69eBCE417eE0508d6996340126aD60078fCDd',\n  },\n  {\n    name: 'BAL_90_AMPL_ETH_LP_10_FARM',\n    type: 'balancer',\n    decimals: 18,\n    address: '0xdFb341093ea062a74Bd19a222c74Abdcb97C067b',\n  },\n  {\n    name: 'FUSDC_USDC_LP',\n    type: 'uniswap',\n    decimals: 18,\n    address: '0x4161fa43eaa1ac3882aeed12c5fc05249e533e67',\n  },\n  {\n    name: 'FUSDT_USDT_LP',\n    type: 'uniswap',\n    decimals: 18,\n    address: '0x713f62ccf8545ff1df19e5d7ab94887cfaf95677',\n  },\n  {\n    name: 'FDAI_DAI_LP',\n    type: 'uniswap',\n    decimals: 18,\n    address: '0x007e383bf3c3ffa12a5de06a53bab103335eff28',\n  },\n  {\n    name: 'AMPL_ETH_LP',\n    type: 'uniswap',\n    decimals: 18,\n    address: '0xc5be99A02C6857f9Eac67BbCE58DF5572498F40c',\n  },\n  {\n    name: 'SWRV',\n    decimals: 18,\n    address: '0xB8BAa0e4287890a5F79863aB62b7F175ceCbD433',\n  },\n  {\n    name: 'CRV',\n    decimals: 18,\n    address: '0xD533a949740bb3306d119CC777fa900bA034cd52',\n  },\n  {\n    name: 'PYLON',\n    decimals: 18,\n    address: '0xD7B7d3C0bdA57723Fb54ab95Fd8F9EA033AF37f2',\n  },\n  {\n    name: 'AMPL',\n    decimals: 9,\n    address: '0xD46bA6D942050d489DBd938a2C909A5d5039A161',\n  },\n  {\n    name: 'WBTC',\n    decimals: 8,\n    address: '0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599',\n  },\n  {\n    name: 'RENBTC',\n    decimals: 8,\n    address: '0xEB4C2781e4ebA804CE9a9803C67d0893436bB27D',\n  },\n];\n\n/**\n * @param {String} name the name of the asset to find\n * @return {Object} the asset object\n */\nfunction assetByName(name) {\n  return assets.find((asset) => asset.name === name);\n}\n\n/**\n * @param {String} address the address of the asset to find\n * @return {Object} the asset object\n */\nfunction assetByAddress(address) {\n  return assets.find(\n      (asset) => asset.address.toLowerCase() === address.toLowerCase(),\n  );\n}\n\n// TODO: refactor and improve\n// RATIONALE: want to use assetByName, so need to initialize it first\nassets.push({\n  name: 'CRVRENWBTC',\n  decimals: 18,\n  type: 'curve',\n  curveInfo: {\n    poolAddress: '0x93054188d876f558f4a66b2ef1d97d16edf0895b',\n    assets: [\n      assetByName('WBTC'),\n      assetByName('RENBTC'),\n    ],\n  },\n  address: '0x49849C98ae39Fff122806C06791Fa73784FB3675',\n});\nassets.push({\n  name: 'FDAI',\n  type: 'ftoken',\n  underlyingAsset: assetByName('DAI'),\n  decimals: 18,\n  address: '0xe85c8581e60d7cd32bbfd86303d2a4fa6a951dac',\n});\nassets.push({\n  name: 'FUSDC',\n  type: 'ftoken',\n  underlyingAsset: assetByName('USDC'),\n  decimals: 6,\n  address: '0xc3f7ffb5d5869b3ade9448d094d81b0521e8326f',\n});\nassets.push({\n  name: 'FUSDT',\n  type: 'ftoken',\n  underlyingAsset: assetByName('USDT'),\n  decimals: 6,\n  address: '0xc7ee21406bb581e741fbb8b21f213188433d9f2f',\n});\nassets.push({\n  name: 'FWBTC',\n  type: 'ftoken',\n  underlyingAsset: assetByName('WBTC'),\n  decimals: 8,\n  address: '0xc07EB91961662D275E2D285BdC21885A4Db136B0',\n});\nassets.push({\n  name: 'FRENBTC',\n  type: 'ftoken',\n  underlyingAsset: assetByName('RENBTC'),\n  decimals: 18,\n  address: '0xfBe122D0ba3c75e1F7C80bd27613c9f35B81FEeC',\n});\nassets.push({\n  name: 'FCRVRENWBTC',\n  type: 'ftoken',\n  underlyingAsset: assetByName('CRVRENWBTC'),\n  decimals: 18,\n  address: '0x192E9d29D43db385063799BC239E772c3b6888F3',\n});\n\n\nconst weekOnePools = [\n  {\n    asset: assetByName('FDAI'),\n    address: '0xF9E5f9024c2f3f2908A1d0e7272861a767C9484b',\n    rewardAsset: assetByName('FARM'),\n  },\n  {\n    asset: assetByName('FUSDC'),\n    address: '0xE1f9A3EE001a2EcC906E8de637DBf20BB2d44633',\n    rewardAsset: assetByName('FARM'),\n  },\n  {\n    asset: assetByName('FUSDT'),\n    address: '0x5bd997039FFF16F653EF15D1428F2C791519f58d',\n    rewardAsset: assetByName('FARM'),\n  },\n  {\n    asset: assetByName('BAL_95_USDC_5_FARM'),\n    address: '0x6f8A975758436A5Ec38d2f9d2336504430465517',\n    rewardAsset: assetByName('FARM'),\n  },\n  {\n    asset: assetByName('FARM_USDC_LP'),\n    address: '0x99b0d6641A63Ce173E6EB063b3d3AED9A35Cf9bf',\n    rewardAsset: assetByName('FARM'),\n  },\n  {\n    asset: assetByName('YFV'),\n    address: '0x3631A32c959C5c52BC90AB5b7D212a8D00321918',\n    rewardAsset: assetByName('FARM'),\n  },\n  {\n    asset: assetByName('YFII'),\n    address: '0xC97DDAa8091aBaF79A4910b094830CCE5cDd78f4',\n    rewardAsset: assetByName('FARM'),\n  },\n  {\n    asset: assetByName('WETH'),\n    address: '0xE604Fd5b1317BABd0cF2c72F7F5f2AD8c00Adbe1',\n    rewardAsset: assetByName('FARM'),\n  },\n  {\n    asset: assetByName('LINK'),\n    address: '0xa112c2354d27c2Fb3370cc5d027B28987117a268',\n    rewardAsset: assetByName('FARM'),\n  },\n  {\n    asset: assetByName('YFI'),\n    address: '0x84646F736795a8bC22Ab34E05c8982CD058328C7',\n    rewardAsset: assetByName('FARM'),\n  },\n  {\n    asset: assetByName('SUSHI'),\n    address: '0x4938960C507A4d7094C53A8cDdCF925835393B8f',\n    rewardAsset: assetByName('FARM'),\n  },\n  {\n    asset: assetByName('OGN'),\n    address: '0xF71042C88458ff1702c3870f62F4c764712Cc9F0',\n    rewardAsset: assetByName('FARM'),\n  },\n  {\n    asset: assetByName('BASED_SUSD_LP'),\n    address: '0xb3b56c7BDc87F9DeB7972cD8b5c09329ce421F89',\n    rewardAsset: assetByName('FARM'),\n  },\n  {\n    asset: assetByName('PASTA_ETH_LP'),\n    address: '0xC6f39CFf6797baC5e29275177b6E8e315cF87D95',\n    rewardAsset: assetByName('FARM'),\n  },\n  {\n    asset: assetByName('FARM'),\n    address: '0xae024F29C26D6f71Ec71658B1980189956B0546D',\n    rewardAsset: assetByName('FARM'),\n  },\n];\n\nconst weekTwoPools = [\n  {\n    asset: assetByName('BAL_80_USDC_20_FARM'),\n    address: '0x346523a81f16030110e6c858ee0e11f156840bd1',\n    rewardAsset: assetByName('FARM'),\n  },\n  {\n    asset: assetByName('FARM_USDC_LP'),\n    address: '0x99b0d6641A63Ce173E6EB063b3d3AED9A35Cf9bf',\n    rewardAsset: assetByName('FARM'),\n  },\n  {\n    asset: assetByName('FUSDC_USDC_LP'),\n    address: '0x43286F57cf5981a5db56828dF91a46CfAb983E58',\n    rewardAsset: assetByName('FARM'),\n  },\n  {\n    asset: assetByName('FUSDT_USDT_LP'),\n    address: '0x316De40F36da4C54AFf11C1D83081555Cca41270',\n    rewardAsset: assetByName('FARM'),\n  },\n  {\n    asset: assetByName('FDAI_DAI_LP'),\n    address: '0xB492fAEdA6c9FFb9B9854a58F28d5333Ff7a11bc',\n    rewardAsset: assetByName('FARM'),\n  },\n  {\n    asset: assetByName('FDAI'),\n    address: '0xF9E5f9024c2f3f2908A1d0e7272861a767C9484b',\n    rewardAsset: assetByName('FARM'),\n  },\n  {\n    asset: assetByName('FUSDC'),\n    address: '0xE1f9A3EE001a2EcC906E8de637DBf20BB2d44633',\n    rewardAsset: assetByName('FARM'),\n  },\n  {\n    asset: assetByName('FUSDT'),\n    address: '0x5bd997039FFF16F653EF15D1428F2C791519f58d',\n    rewardAsset: assetByName('FARM'),\n  },\n  {\n    asset: assetByName('FARM'),\n    address: '0x59258F4e15A5fC74A7284055A8094F58108dbD4f',\n    rewardAsset: assetByName('FARM'),\n  },\n  {\n    asset: assetByName('BAL_90_SWRV_10_FARM'),\n    address: '0x44356324864A30216e89193bc8b0F6309227d690',\n    rewardAsset: assetByName('FARM'),\n  },\n  {\n    asset: assetByName('BAL_90_CRV_10_FARM'),\n    address: '0x45A760B3E83FF8C107C4df955b1483De0982F393',\n    rewardAsset: assetByName('FARM'),\n  },\n  {\n    asset: assetByName('BAL_90_SUSHI_10_FARM'),\n    address: '0x26582BeA67B30AF166b7FCD3424Ba1E0638Ab136',\n    rewardAsset: assetByName('FARM'),\n  },\n  {\n    asset: assetByName('BAL_90_YFV_10_FARM'),\n    address: '0x158edB94D0bfC093952fB3009DeeED613042907c',\n    rewardAsset: assetByName('FARM'),\n  },\n  {\n    asset: assetByName('BAL_90_LINK_10_FARM'),\n    address: '0x19f8cE19c9730A1d0db5149e65E48c2f0DAa9919',\n    rewardAsset: assetByName('FARM'),\n  },\n  {\n    asset: assetByName('BAL_90_PYLON_10_FARM'),\n    address: '0x2f97D9f870a773186CB01742Ff298777BBF6f244',\n    rewardAsset: assetByName('FARM'),\n  },\n  {\n    asset: assetByName('BAL_90_BASED_SUSD_LP_10_FARM'),\n    address: '0xf465573288D9D89C6E89b1bc3BC9ce2b997E77dF',\n    rewardAsset: assetByName('FARM'),\n  },\n  {\n    asset: assetByName('BAL_90_PASTA_ETH_LP_10_FARM'),\n    address: '0xB4D1D6150dAc0D1A994AfB2A196adadBE639FF95',\n    rewardAsset: assetByName('FARM'),\n  },\n  {\n    asset: assetByName('BAL_90_AMPL_ETH_LP_10_FARM'),\n    address: '0x7AF4458D3aBD61C3fd187Bb9f1Bbf917Cd4be9B8',\n    rewardAsset: assetByName('FARM'),\n  },\n  {\n    asset: assetByName('FWBTC'),\n    address: '0x6291eCe696CB6682a9bb1d42fca4160771b1D7CC',\n    rewardAsset: assetByName('FARM'),\n  },\n  {\n    asset: assetByName('FRENBTC'),\n    address: '0xCFE1103863F9e7Cf3452Ca8932Eef44d314bf9C5',\n    rewardAsset: assetByName('FARM'),\n  },\n  {\n    asset: assetByName('FCRVRENWBTC'),\n    address: '0x5365A2C47b90EE8C9317faC20edC3ce7037384FB',\n    rewardAsset: assetByName('FARM'),\n  },\n];\n\n\n/**\n * @param {Set} setA\n * @param {Set} setB\n * @return {Set} union\n */\nfunction union(setA, setB) {\n  const has = [];\n  setA.forEach((val) => has.push(val.address));\n\n  const _union = new Set(setA);\n\n  for (const elem of setB) {\n    // if B's elem not in A, add to union\n    if (!has.find((e) => e === elem.address)) _union.add(elem);\n  }\n  return _union;\n}\n\n/**\n * @param {Set} setA\n * @param {Set} setB\n * @return {Set} difference\n */\nfunction difference(setA, setB) {\n  const has = [];\n  setB.forEach((val) => has.push(val.address));\n\n  const _difference = new Set(setA);\n  for (const elem of setA) {\n    // if A's elem in B, remove from difference\n    if (has.find((e) => e === elem.address)) _difference.delete(elem);\n  }\n  return _difference;\n}\n\n\n// SETUP\n\nconst periods = [weekOnePools, weekTwoPools];\n\n// Get a deduped set of all past poos\nlet allPastPools = new Set();\nconst sets = periods.map((period) => new Set(period));\nsets.forEach((set) => allPastPools = union(allPastPools, set));\n\n// Inactive pools are in all past pools, but not the most recent week\nconst inactivePools = difference(allPastPools, sets[sets.length - 1]);\nconst activePools = sets[sets.length - 1];\n\n/**\n * @param {String} address\n * @return {bool} isActive\n */\nfunction isAddressActive(address) {\n  for (const value of activePools) {\n    if (value.address === address) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * @param {Object} pool\n * @return {bool} isActive\n */\nfunction isActive(pool) {\n  return isAddressActive(pool.address);\n}\n\n// prevent modification\nassets.forEach(Object.freeze);\nObject.freeze(periods);\nperiods.forEach((week) => {\n  week.forEach(Object.freeze);\n  Object.freeze(week);\n});\nObject.freeze(allPastPools);\n\nexport default {\n  activePools: Object.freeze([...activePools]),\n  allPastPools: [...allPastPools],\n  assets,\n  assetByAddress,\n  assetByName,\n  inactivePools: [...inactivePools],\n  isAddressActive,\n  isActive,\n  periods,\n  weekOnePools,\n  weekTwoPools,\n};\n","/* eslint-disable max-len */\n\nexport const ERC20_ABI = JSON.parse('[{\"constant\":false,\"inputs\":[{\"name\":\"spender\",\"type\":\"address\"},{\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"approve\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalSupply\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"from\",\"type\":\"address\"},{\"name\":\"to\",\"type\":\"address\"},{\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"transferFrom\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"spender\",\"type\":\"address\"},{\"name\":\"addedValue\",\"type\":\"uint256\"}],\"name\":\"increaseAllowance\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"owner\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"spender\",\"type\":\"address\"},{\"name\":\"subtractedValue\",\"type\":\"uint256\"}],\"name\":\"decreaseAllowance\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"to\",\"type\":\"address\"},{\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"transfer\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"owner\",\"type\":\"address\"},{\"name\":\"spender\",\"type\":\"address\"}],\"name\":\"allowance\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"spender\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"Approval\",\"type\":\"event\"}]');\n\nexport const REWARDS_ABI = JSON.parse(' [{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_rewardToken\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_lpToken\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_duration\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"_rewardDistribution\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_storage\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"reward\",\"type\":\"uint256\"}],\"name\":\"RewardAdded\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"reward\",\"type\":\"uint256\"}],\"name\":\"RewardDenied\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"reward\",\"type\":\"uint256\"}],\"name\":\"RewardPaid\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"Staked\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"Withdrawn\",\"type\":\"event\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"controller\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"duration\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"earned\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"exit\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"getReward\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"governance\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"isOwner\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"lastTimeRewardApplicable\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"lastUpdateTime\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"lpToken\",\"outputs\":[{\"internalType\":\"contract IERC20\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"reward\",\"type\":\"uint256\"}],\"name\":\"notifyRewardAmount\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"periodFinish\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"}],\"name\":\"pushReward\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"rewardPerToken\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"rewardPerTokenStored\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"rewardRate\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"rewardToken\",\"outputs\":[{\"internalType\":\"contract IERC20\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"rewards\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"_rewardDistribution\",\"type\":\"address\"}],\"name\":\"setRewardDistribution\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"_store\",\"type\":\"address\"}],\"name\":\"setStorage\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"stake\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"store\",\"outputs\":[{\"internalType\":\"contract Storage\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalSupply\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"userRewardPerTokenPaid\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"withdraw\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]');\n\nexport const UNISWAP_PAIR_ABI = JSON.parse('[{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"Approval\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount0\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount1\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"}],\"name\":\"Burn\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount0\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount1\",\"type\":\"uint256\"}],\"name\":\"Mint\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount0In\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount1In\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount0Out\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount1Out\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"}],\"name\":\"Swap\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint112\",\"name\":\"reserve0\",\"type\":\"uint112\"},{\"indexed\":false,\"internalType\":\"uint112\",\"name\":\"reserve1\",\"type\":\"uint112\"}],\"name\":\"Sync\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"constant\":true,\"inputs\":[],\"name\":\"DOMAIN_SEPARATOR\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"MINIMUM_LIQUIDITY\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"PERMIT_TYPEHASH\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"allowance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"approve\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"}],\"name\":\"burn\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amount0\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amount1\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"decimals\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"factory\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getReserves\",\"outputs\":[{\"internalType\":\"uint112\",\"name\":\"_reserve0\",\"type\":\"uint112\"},{\"internalType\":\"uint112\",\"name\":\"_reserve1\",\"type\":\"uint112\"},{\"internalType\":\"uint32\",\"name\":\"_blockTimestampLast\",\"type\":\"uint32\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"_token0\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_token1\",\"type\":\"address\"}],\"name\":\"initialize\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"kLast\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"}],\"name\":\"mint\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"liquidity\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"nonces\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"deadline\",\"type\":\"uint256\"},{\"internalType\":\"uint8\",\"name\":\"v\",\"type\":\"uint8\"},{\"internalType\":\"bytes32\",\"name\":\"r\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"s\",\"type\":\"bytes32\"}],\"name\":\"permit\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"price0CumulativeLast\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"price1CumulativeLast\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"}],\"name\":\"skim\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount0Out\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amount1Out\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"name\":\"swap\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"symbol\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"sync\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"token0\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"token1\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalSupply\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"transfer\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"transferFrom\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]');\n\nexport const BALANCER_ABI = JSON.parse('[{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"src\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"dst\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amt\",\"type\":\"uint256\"}],\"name\":\"Approval\",\"type\":\"event\"},{\"anonymous\":true,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes4\",\"name\":\"sig\",\"type\":\"bytes4\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"caller\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"name\":\"LOG_CALL\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"caller\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"tokenOut\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"tokenAmountOut\",\"type\":\"uint256\"}],\"name\":\"LOG_EXIT\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"caller\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"tokenIn\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"tokenAmountIn\",\"type\":\"uint256\"}],\"name\":\"LOG_JOIN\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"caller\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"tokenIn\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"tokenOut\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"tokenAmountIn\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"tokenAmountOut\",\"type\":\"uint256\"}],\"name\":\"LOG_SWAP\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"src\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"dst\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amt\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"constant\":true,\"inputs\":[],\"name\":\"BONE\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"BPOW_PRECISION\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"EXIT_FEE\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"INIT_POOL_SUPPLY\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"MAX_BOUND_TOKENS\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"MAX_BPOW_BASE\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"MAX_FEE\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"MAX_IN_RATIO\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"MAX_OUT_RATIO\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"MAX_TOTAL_WEIGHT\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"MAX_WEIGHT\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"MIN_BALANCE\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"MIN_BOUND_TOKENS\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"MIN_BPOW_BASE\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"MIN_FEE\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"MIN_WEIGHT\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"src\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"dst\",\"type\":\"address\"}],\"name\":\"allowance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"dst\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amt\",\"type\":\"uint256\"}],\"name\":\"approve\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"whom\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"balance\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"denorm\",\"type\":\"uint256\"}],\"name\":\"bind\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenBalanceIn\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"tokenWeightIn\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"tokenBalanceOut\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"tokenWeightOut\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"tokenAmountOut\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"swapFee\",\"type\":\"uint256\"}],\"name\":\"calcInGivenOut\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenAmountIn\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"pure\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenBalanceIn\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"tokenWeightIn\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"tokenBalanceOut\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"tokenWeightOut\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"tokenAmountIn\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"swapFee\",\"type\":\"uint256\"}],\"name\":\"calcOutGivenIn\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenAmountOut\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"pure\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenBalanceOut\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"tokenWeightOut\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"poolSupply\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalWeight\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"tokenAmountOut\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"swapFee\",\"type\":\"uint256\"}],\"name\":\"calcPoolInGivenSingleOut\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"poolAmountIn\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"pure\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenBalanceIn\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"tokenWeightIn\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"poolSupply\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalWeight\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"tokenAmountIn\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"swapFee\",\"type\":\"uint256\"}],\"name\":\"calcPoolOutGivenSingleIn\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"poolAmountOut\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"pure\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenBalanceIn\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"tokenWeightIn\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"poolSupply\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalWeight\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"poolAmountOut\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"swapFee\",\"type\":\"uint256\"}],\"name\":\"calcSingleInGivenPoolOut\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenAmountIn\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"pure\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenBalanceOut\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"tokenWeightOut\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"poolSupply\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalWeight\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"poolAmountIn\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"swapFee\",\"type\":\"uint256\"}],\"name\":\"calcSingleOutGivenPoolIn\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenAmountOut\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"pure\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenBalanceIn\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"tokenWeightIn\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"tokenBalanceOut\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"tokenWeightOut\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"swapFee\",\"type\":\"uint256\"}],\"name\":\"calcSpotPrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"spotPrice\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"pure\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"decimals\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"dst\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amt\",\"type\":\"uint256\"}],\"name\":\"decreaseApproval\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"poolAmountIn\",\"type\":\"uint256\"},{\"internalType\":\"uint256[]\",\"name\":\"minAmountsOut\",\"type\":\"uint256[]\"}],\"name\":\"exitPool\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"tokenOut\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"tokenAmountOut\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maxPoolAmountIn\",\"type\":\"uint256\"}],\"name\":\"exitswapExternAmountOut\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"poolAmountIn\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"tokenOut\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"poolAmountIn\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"minAmountOut\",\"type\":\"uint256\"}],\"name\":\"exitswapPoolAmountIn\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenAmountOut\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"finalize\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"}],\"name\":\"getBalance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getColor\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getController\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getCurrentTokens\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"tokens\",\"type\":\"address[]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"}],\"name\":\"getDenormalizedWeight\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getFinalTokens\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"tokens\",\"type\":\"address[]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"}],\"name\":\"getNormalizedWeight\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getNumTokens\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"tokenIn\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"tokenOut\",\"type\":\"address\"}],\"name\":\"getSpotPrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"spotPrice\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"tokenIn\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"tokenOut\",\"type\":\"address\"}],\"name\":\"getSpotPriceSansFee\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"spotPrice\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getSwapFee\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getTotalDenormalizedWeight\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"}],\"name\":\"gulp\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"dst\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amt\",\"type\":\"uint256\"}],\"name\":\"increaseApproval\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"t\",\"type\":\"address\"}],\"name\":\"isBound\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"isFinalized\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"isPublicSwap\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"poolAmountOut\",\"type\":\"uint256\"},{\"internalType\":\"uint256[]\",\"name\":\"maxAmountsIn\",\"type\":\"uint256[]\"}],\"name\":\"joinPool\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"tokenIn\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"tokenAmountIn\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"minPoolAmountOut\",\"type\":\"uint256\"}],\"name\":\"joinswapExternAmountIn\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"poolAmountOut\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"tokenIn\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"poolAmountOut\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maxAmountIn\",\"type\":\"uint256\"}],\"name\":\"joinswapPoolAmountOut\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenAmountIn\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"balance\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"denorm\",\"type\":\"uint256\"}],\"name\":\"rebind\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"manager\",\"type\":\"address\"}],\"name\":\"setController\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"bool\",\"name\":\"public_\",\"type\":\"bool\"}],\"name\":\"setPublicSwap\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"swapFee\",\"type\":\"uint256\"}],\"name\":\"setSwapFee\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"tokenIn\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"tokenAmountIn\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"tokenOut\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"minAmountOut\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maxPrice\",\"type\":\"uint256\"}],\"name\":\"swapExactAmountIn\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenAmountOut\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"spotPriceAfter\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"tokenIn\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"maxAmountIn\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"tokenOut\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"tokenAmountOut\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maxPrice\",\"type\":\"uint256\"}],\"name\":\"swapExactAmountOut\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenAmountIn\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"spotPriceAfter\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"symbol\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalSupply\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"dst\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amt\",\"type\":\"uint256\"}],\"name\":\"transfer\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"src\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"dst\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amt\",\"type\":\"uint256\"}],\"name\":\"transferFrom\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"}],\"name\":\"unbind\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]');\n\nexport const CURVE_ABI = JSON.parse('[{\"name\":\"Transfer\",\"inputs\":[{\"type\":\"address\",\"name\":\"_from\",\"indexed\":true},{\"type\":\"address\",\"name\":\"_to\",\"indexed\":true},{\"type\":\"uint256\",\"name\":\"_value\",\"indexed\":false}],\"anonymous\":false,\"type\":\"event\"},{\"name\":\"Approval\",\"inputs\":[{\"type\":\"address\",\"name\":\"_owner\",\"indexed\":true},{\"type\":\"address\",\"name\":\"_spender\",\"indexed\":true},{\"type\":\"uint256\",\"name\":\"_value\",\"indexed\":false}],\"anonymous\":false,\"type\":\"event\"},{\"outputs\":[],\"inputs\":[{\"type\":\"string\",\"name\":\"_name\"},{\"type\":\"string\",\"name\":\"_symbol\"},{\"type\":\"uint256\",\"name\":\"_decimals\"},{\"type\":\"uint256\",\"name\":\"_supply\"}],\"constant\":false,\"payable\":false,\"type\":\"constructor\"},{\"name\":\"set_minter\",\"outputs\":[],\"inputs\":[{\"type\":\"address\",\"name\":\"_minter\"}],\"constant\":false,\"payable\":false,\"type\":\"function\",\"gas\":36247},{\"name\":\"totalSupply\",\"outputs\":[{\"type\":\"uint256\",\"name\":\"out\"}],\"inputs\":[],\"constant\":true,\"payable\":false,\"type\":\"function\",\"gas\":1181},{\"name\":\"allowance\",\"outputs\":[{\"type\":\"uint256\",\"name\":\"out\"}],\"inputs\":[{\"type\":\"address\",\"name\":\"_owner\"},{\"type\":\"address\",\"name\":\"_spender\"}],\"constant\":true,\"payable\":false,\"type\":\"function\",\"gas\":1519},{\"name\":\"transfer\",\"outputs\":[{\"type\":\"bool\",\"name\":\"out\"}],\"inputs\":[{\"type\":\"address\",\"name\":\"_to\"},{\"type\":\"uint256\",\"name\":\"_value\"}],\"constant\":false,\"payable\":false,\"type\":\"function\",\"gas\":74802},{\"name\":\"transferFrom\",\"outputs\":[{\"type\":\"bool\",\"name\":\"out\"}],\"inputs\":[{\"type\":\"address\",\"name\":\"_from\"},{\"type\":\"address\",\"name\":\"_to\"},{\"type\":\"uint256\",\"name\":\"_value\"}],\"constant\":false,\"payable\":false,\"type\":\"function\",\"gas\":111953},{\"name\":\"approve\",\"outputs\":[{\"type\":\"bool\",\"name\":\"out\"}],\"inputs\":[{\"type\":\"address\",\"name\":\"_spender\"},{\"type\":\"uint256\",\"name\":\"_value\"}],\"constant\":false,\"payable\":false,\"type\":\"function\",\"gas\":39012},{\"name\":\"mint\",\"outputs\":[],\"inputs\":[{\"type\":\"address\",\"name\":\"_to\"},{\"type\":\"uint256\",\"name\":\"_value\"}],\"constant\":false,\"payable\":false,\"type\":\"function\",\"gas\":75733},{\"name\":\"burn\",\"outputs\":[],\"inputs\":[{\"type\":\"uint256\",\"name\":\"_value\"}],\"constant\":false,\"payable\":false,\"type\":\"function\",\"gas\":76623},{\"name\":\"burnFrom\",\"outputs\":[],\"inputs\":[{\"type\":\"address\",\"name\":\"_to\"},{\"type\":\"uint256\",\"name\":\"_value\"}],\"constant\":false,\"payable\":false,\"type\":\"function\",\"gas\":76696},{\"name\":\"symbol\",\"outputs\":[{\"type\":\"string\",\"name\":\"out\"}],\"inputs\":[],\"constant\":true,\"payable\":false,\"type\":\"function\",\"gas\":6906},{\"name\":\"decimals\",\"outputs\":[{\"type\":\"uint256\",\"name\":\"out\"}],\"inputs\":[],\"constant\":true,\"payable\":false,\"type\":\"function\",\"gas\":1511},{\"name\":\"balanceOf\",\"outputs\":[{\"type\":\"uint256\",\"name\":\"out\"}],\"inputs\":[{\"type\":\"address\",\"name\":\"arg0\"}],\"constant\":true,\"payable\":false,\"type\":\"function\",\"gas\":11695}]');\n\n\nexport const FTOKEN_ABI = JSON.parse('[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_storage\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_underlying\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_toInvestNumerator\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_toInvestDenominator\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"Approval\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"beneficiary\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"Deposit\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"Invest\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"beneficiary\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"Withdraw\",\"type\":\"event\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"}],\"name\":\"allowance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"approve\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"availableToInvestOut\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"contributions\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"controller\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"decimals\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"subtractedValue\",\"type\":\"uint256\"}],\"name\":\"decreaseAllowance\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"deposit\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"holder\",\"type\":\"address\"}],\"name\":\"depositFor\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"doHardWork\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"holder\",\"type\":\"address\"}],\"name\":\"getContributions\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getPricePerFullShare\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"holder\",\"type\":\"address\"}],\"name\":\"getWithdrawals\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"governance\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"addedValue\",\"type\":\"uint256\"}],\"name\":\"increaseAllowance\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"rebalance\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"_store\",\"type\":\"address\"}],\"name\":\"setStorage\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"_strategy\",\"type\":\"address\"}],\"name\":\"setStrategy\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"numerator\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"denominator\",\"type\":\"uint256\"}],\"name\":\"setVaultFractionToInvest\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"store\",\"outputs\":[{\"internalType\":\"contract Storage\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"strategy\",\"outputs\":[{\"internalType\":\"contract IStrategy\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"symbol\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalSupply\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"transfer\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"transferFrom\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"underlying\",\"outputs\":[{\"internalType\":\"contract IERC20\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"underlyingBalanceInVault\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"underlyingBalanceWithInvestment\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"holder\",\"type\":\"address\"}],\"name\":\"underlyingBalanceWithInvestmentForHolder\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"underlyingUnit\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"vaultFractionToInvestDenominator\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"vaultFractionToInvestNumerator\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"numberOfShares\",\"type\":\"uint256\"}],\"name\":\"withdraw\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"withdrawAll\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"withdrawals\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"}]');\n","import {ERC20_ABI, UNISWAP_PAIR_ABI, BALANCER_ABI, CURVE_ABI, FTOKEN_ABI} from './data/ABIs.js';\nimport ethers from 'ethers';\nimport data from './data/deploys.js';\n\n\n/**\n * UnderlyingBalances\n */\nexport class UnderlyingBalances {\n  constructor() {\n    this.balances = {};\n  }\n\n  _ingest(name, balance) {\n    if (balance.isZero()) return;\n    if (!this.balances[name]) {\n      this.balances[name] = balance;\n    } else {\n      this.balances[name] = this.balances[name].add(balance);\n    }\n  }\n\n  ingest(entries) {\n    entries.forEach((entry) => this._ingest(entry.asset.name, entry.balance));\n    return this;\n  }\n\n  combine(other) {\n    Object.entries(other.balances)\n      .forEach(([name, balance]) => this._ingest(name, balance));\n    return this;\n  }\n\n  toList() {\n    return Object.entries(this.balances).map(([name, balance]) => {\n        return {\n          asset: data.assetByName(name),\n          balance\n        };\n      });\n  }\n}\n\n\n/**\n * Extra functions for erc20\n */\nexport class ERC20Extended extends ethers.Contract {\n  /**\n   *\n   * @param {Object} address the address of the erc20\n   * @param {Object} decimals the erc20 decimals\n   * @param {Object} abi abi\n   * @param {Object} provider web3 provider\n   */\n  constructor(address, decimals, abi, provider) {\n    if (!provider) {throw new Error('Must give a provider')}\n    super(address, abi, provider);\n    this.asset = data.assetByAddress(address);\n    this.tokenDecimals = this.asset.decimals;\n    this.name = this.asset.name;\n  }\n\n  /**\n   * Get the percentage of the supply owned by the address\n   * @param {BigNumberish} tokens the address\n   * @return {String} the percentage, string formatted\n   */\n  async percentageOfTotal(tokens) {\n    const total = await this.totalSupply();\n\n    return ethers.utils.formatUnits(tokens.mul(100).div(total), 2) + '%';\n  }\n\n  /**\n   * Get the percentage of the supply owned by the address\n   * @param {String} address the address\n   * @return {String} the percentage, string formatted\n   */\n  async percentageOwnership(address) {\n    return this.percentageOfTotal(await this.balanceOf(address));\n  }\n\n}\n/**\n * Token wrapper\n */\nexport class Token extends ERC20Extended {\n  /**\n   *\n   * @param {Object} asset object from data/deploy.js\n   * @param {Object} abi abi\n   * @param {Object} provider web3 provider\n   */\n  constructor(asset, abi, provider) {\n    super(asset.address, asset.decimals, abi, provider);\n    this.type = asset.type;\n    this.tokenDecimals = asset.decimals;\n    this.asset = asset;\n  }\n\n  /**\n   *\n   * @param {Object} asset object from data/deploy.js\n   * @param {Object} provider web3 provider\n   * @return {Token} an Token subclass instances\n   */\n  static fromAsset(asset, provider) {\n    switch (asset.type) {\n      case 'balancer':\n        return new BalancerToken(asset, provider);\n      case 'uniswap':\n        return new UniswapToken(asset, provider);\n      case 'curve':\n        return new CurveToken(asset, provider);\n      case 'ftoken':\n        return new FToken(asset, provider);\n      default:\n        return new Token(asset, ERC20_ABI, provider);\n    }\n  }\n\n  /**\n   *\n   * @param {Object} address\n   * @param {Object} provider web3 provider\n   * @return {Token} an Token subclass instances\n   */\n  static fromAddress(address, provider) {\n    return Token.fromAsset(data.assetByAddress(address), provider);\n  }\n}\n\n\nclass HasUnderlying extends Token {\n    async currentTokens() {\n      throw Error('currentTokens is abstract, and must be implemented on a subclass');\n    }\n\n    /**\n     * Returns balances keyed by token address.\n     */\n    async getReserves() {\n      let tokens = await this.currentTokens();\n\n      const balances = await Promise.all(\n        tokens.map((tok) => tok.balanceOf(this.address))\n      );\n\n      const output = balances.map((balance, idx) => {\n        return {\n          asset: tokens[idx].asset,\n          balance,\n        };\n      });\n\n      return output;\n    }\n\n    /**\n     * Get the underlying balance of tokens given N LP shares\n     * @param {BigNumberish} tokens the number of LP tokens\n     * @param {bool} passthrough pass through to the lowest assets.\n     */\n    async calcShare(tokens, passthrough) {\n      const [total, reserves] = await Promise.all(\n          [\n            this.totalSupply(),\n            this.getReserves(),\n          ],\n      );\n\n      const shares = new UnderlyingBalances();\n\n      for (const reserve of reserves) {\n        const balance = reserve.balance.mul(tokens).div(total);\n        if (reserve.asset.type && passthrough) {\n          const token = Token.fromAsset(reserve.asset, this.provider);\n          shares.combine(await token.calcShare(balance, passthrough));\n        } else {\n          shares.ingest([{\n            asset: reserve.asset,\n            balance,\n          }]);\n        }\n      }\n\n      return shares;\n    }\n\n    /**\n     * Get the underlying balance of tokens\n     * @param {String} address the address\n     * @param {bool} passthrough pass through to the lowest assets.\n     */\n    async underlyingBalanceOf(address, passthrough) {\n      const balance = await this.balanceOf(address);\n      return this.calcShare(balance, passthrough);\n    }\n}\n\n/**\n * FToken wrapper\n */\nexport class FToken extends HasUnderlying {\n  constructor(asset, provider) {\n    super(asset, FTOKEN_ABI, provider);\n    this.underlyingAsset = asset.underlyingAsset;\n    this._currentTokens = [\n      Token.fromAddress(this.underlyingAsset.address, this.provider)\n    ];\n  }\n\n  async currentTokens() {\n    return this._currentTokens;\n  }\n\n  async getReserves() {\n    return [{\n      asset: this.underlyingAsset,\n      balance: await this.underlyingBalanceWithInvestment(),\n    }];\n  }\n\n  async calcShare(tokens) {\n    const balance = tokens\n      .mul(await this.getPricePerFullShare())\n      .div(ethers.BigNumber.from(10).pow(this.underlyingAsset.decimals));\n    return new UnderlyingBalances().ingest([\n      {\n        asset: this.underlyingAsset,\n        balance,\n      }\n    ]);\n  }\n}\n\n/**\n * UniswapToken wrapper\n */\nexport class UniswapToken extends HasUnderlying {\n  /**\n   *\n   * @param {Object} asset object from data/deploy.js\n   * @param {Object} provider web3 provider\n   */\n  constructor(asset, provider) {\n    super(asset, UNISWAP_PAIR_ABI, provider);\n\n    this.reserve0 = async () => (\n      await this.getReserves()[0]\n    );\n    this.reserve1 = async () => (\n      await this.getReserves()[1]\n    );\n  }\n\n  /**\n   * Get token0\n   */\n  async getToken0() {\n    if (this._token0) {\n      return this._token0;\n    }\n    const address = await this.token0();\n    this._token0 = Token.fromAddress(address, this.provider);\n    return this._token0;\n  }\n\n  /**\n   * Get token1\n   */\n  async getToken1() {\n    if (this._token1) {\n      return this._token1;\n    }\n    const address = await this.token1();\n    this._token1 = Token.fromAddress(address, this.provider);\n    return this._token1;\n  }\n\n  /**\n   * @return {Array[Token]}\n   */\n  async currentTokens() {\n    return Promise.all([this.getToken0(), this.getToken1()]);\n  }\n}\n\n/**\n * CurveToken wrapper\n */\nexport class CurveToken extends HasUnderlying {\n  /**\n   *\n   * @param {Object} asset object from data/deploy.js\n   * @param {Object} provider web3 provider\n   */\n  constructor(asset, provider) {\n    super(asset, CURVE_ABI, provider);\n    this.curveInfo = asset.curveInfo;\n  }\n\n  /**\n   * Get current tokens and memoize\n   * @return {Array[Token]}\n   */\n  async currentTokens() {\n    if (this._getCurrentTokens) {\n      return this._getCurrentTokens;\n    }\n    this._getCurrentTokens = this.curveInfo.assets.map((asset) => {\n      return Token.fromAddress(asset.address, this.provider);\n    });\n    return this._getCurrentTokens;\n  }\n\n    /**\n     * Returns balances keyed by token address.\n     */\n    async getReserves() {\n      let tokens = await this.currentTokens();\n\n      const balances = await Promise.all(\n        tokens.map((tok) => tok.balanceOf(this.curveInfo.poolAddress))\n      );\n\n      const output = balances.map((balance, idx) => {\n        return {\n          asset: tokens[idx].asset,\n          balance,\n        };\n      });\n      return output;\n    }\n}\n\n/**\n * BalancerToken wrapper\n */\nexport class BalancerToken extends HasUnderlying {\n  /**\n   *\n   * @param {Object} asset object from data/deploy.js\n   * @param {Object} provider web3 provider\n   */\n  constructor(asset, provider) {\n    super(asset, BALANCER_ABI, provider);\n  }\n\n  /**\n   * Get current tokens and memoize\n   * @return {Array[Token]}\n   */\n  async currentTokens() {\n    if (this._getCurrentTokens) {\n      return this._getCurrentTokens;\n    }\n    const tokens = [];\n    (await this.getCurrentTokens()).forEach((token) => {\n      tokens.push(\n          Token.fromAddress(token, this.provider),\n      );\n    });\n    this._getCurrentTokens = tokens;\n    return this._getCurrentTokens;\n  }\n\n  /**\n   * Get current tokens and memoize\n   * Returns balances keyed by token address.\n   */\n  async getReserves() {\n    const tokens = await this.currentTokens();\n\n    const balances = await Promise.all(tokens.map((entry) => {\n\n      return entry.balanceOf(this.address);\n    }));\n\n    const output = tokens.map((tok, idx) => {\n      return {\n        asset: tok.asset,\n        balance: balances[idx],\n      };\n    });\n\n    return output;\n  }\n}\n","import data from './data/deploys.js';\nimport ethers from 'ethers';\nimport {REWARDS_ABI} from './data/ABIs.js';\nimport {Token} from './tokens.js';\n\n/**\n * Reward pool wrapper\n */\nexport class HarvestRewardsPool extends ethers.Contract {\n  /**\n   *\n   * @param {Object} pool object from data/deploy.js\n   * @param {Object} provider web3 provider\n   */\n  constructor(pool, provider) {\n    super(pool.address, REWARDS_ABI, provider);\n    this.name = pool.asset.name;\n    this._pool = pool;\n\n    this.lptoken = Token.fromAsset(pool.asset, provider);\n\n    // function aliases\n    this.unstakedBalance = this.lptoken.balanceOf;\n    this.stakedBalance = this.balanceOf;\n    this.earnedRewards = this.earned;\n\n    if (this.lptoken.underlyingBalanceOf) {\n      this.underlyingBalanceOf = async (address, passthrough) => {\n        const balance = await this.balanceOf(address);\n        return this.lptoken.calcShare(balance, passthrough);\n      };\n    }\n  }\n\n  /**\n   * @param {Object} provider web3 provider\n   * @return {Array} array of HarvestRewardsPool\n   */\n  static knownPools(provider) {\n    return data.pools.map((pool) =>\n      new HarvestRewardsPool(pool, provider),\n    );\n  }\n\n  /**\n   * @param {ethers.Provider} provider provider\n   * @return {PoolManager} manager\n   */\n  static weekOne(provider) {\n    return data.weekOnePools.map((pool) =>\n      new HarvestRewardsPool(pool, provider),\n    );\n  }\n  /**\n   * @param {ethers.Provider} provider provider\n   * @return {PoolManager} manager\n   */\n  static weekTwo(provider) {\n    return data.weekTwoPools.map((pool) =>\n      new HarvestRewardsPool(pool, provider),\n    );\n  }\n  /**\n   * @param {ethers.Provider} provider provider\n   * @return {PoolManager} manager\n   */\n  static activePools(provider) {\n    return data.activePools.map((pool) =>\n      new HarvestRewardsPool(pool, provider),\n    );\n  }\n  /**\n   * @param {ethers.Provider} provider provider\n   * @return {PoolManager} manager\n   */\n  static inactivePools(provider) {\n    return data.inactivePools.map((pool) =>\n      new HarvestRewardsPool(pool, provider),\n    );\n  }\n  /**\n   * @param {ethers.Provider} provider provider\n   * @return {PoolManager} manager\n   */\n  static allPastPools(provider) {\n    return data.allPastPools.map((pool) =>\n      new HarvestRewardsPool(pool, provider),\n    );\n  }\n\n  /**\n   * Get the percentage of the supply owned by the address\n   * @param {BigNumberish} tokens the address\n   * @return {String} the percentage, string formatted\n   */\n  async percentageOfTotal(tokens) {\n    const total = await this.totalSupply();\n\n    const based = tokens.mul(ethers.constants.WeiPerEther).div(total);\n\n    return ethers.utils.formatUnits(based, 16).slice(0, 5) + '%';\n  }\n\n  /**\n   * Get the percentage of the supply owned by the address\n   * @param {String} address the address\n   * @return {String} the percentage, string formatted\n   */\n  async percentageOwnership(address) {\n    return this.percentageOfTotal(await this.balanceOf(address));\n  }\n\n  /**\n   * @return {bool} isActive\n   */\n  isActive() {\n    return data.isAddressActive(this.address);\n  }\n\n  /**\n   * Return a summary of the state of the pool\n   * @param {String} address the address for which we compute the summary\n   * @return {Object} summary\n   */\n  async summary(address) {\n    const underlying = async (address) => {\n      if (this.underlyingBalanceOf) {\n        return await this.underlyingBalanceOf(address);\n      }\n      return {};\n    };\n    const [\n      stakedBalance,\n      unstakedBalance,\n      earnedRewards,\n      underlyingBalanceOf,\n      percentageOwnership,\n    ] = await Promise.all([\n      this.stakedBalance(address),\n      this.unstakedBalance(address),\n      this.earnedRewards(address),\n      underlying(address),\n      this.percentageOwnership(address),\n    ]);\n\n\n    const output = {\n      user: address,\n      pool: this._pool,\n      isActive: this.isActive(),\n      stakedBalance,\n      unstakedBalance,\n      earnedRewards,\n      percentageOwnership,\n    };\n    if (underlyingBalanceOf) output.underlyingBalanceOf = underlyingBalanceOf;\n    return output;\n  }\n}\n","import data from './data/deploys.js';\nimport ethers from 'ethers';\nimport {HarvestRewardsPool} from './pool.js';\nimport {UnderlyingBalances} from './tokens.js';\n\n/**\n * Reward pool wrapper\n */\nexport class PoolManager {\n  /**\n   *  Instantiate from the hardcoded pools\n   *\n   * @param {Array} pools a list of pools\n   * @param {Object} provider web3 provider\n   */\n  constructor(pools, provider) {\n    this.pools = pools;\n    this.provider = provider;\n  }\n\n  /**\n   * @param {ethers.Provider} provider provider\n   * @return {PoolManager} manager\n   */\n  static weekOne(provider) {\n    return new PoolManager(\n        HarvestRewardsPool.weekOne(provider),\n        provider,\n    );\n  }\n  /**\n   * @param {ethers.Provider} provider provider\n   * @return {PoolManager} manager\n   */\n  static weekTwo(provider) {\n    return new PoolManager(\n        HarvestRewardsPool.weekTwo(provider),\n        provider,\n    );\n  }\n  /**\n   * @param {ethers.Provider} provider provider\n   * @return {PoolManager} manager\n   */\n  static activePools(provider) {\n    return new PoolManager(\n        HarvestRewardsPool.activePools(provider),\n        provider,\n    );\n  }\n  /**\n   * @param {ethers.Provider} provider provider\n   * @return {PoolManager} manager\n   */\n  static inactivePools(provider) {\n    return new PoolManager(\n        HarvestRewardsPool.inactivePools(provider),\n        provider,\n    );\n  }\n  /**\n   * @param {ethers.Provider} provider provider\n   * @return {PoolManager} manager\n   */\n  static allPastPools(provider) {\n    return new PoolManager(\n        HarvestRewardsPool.allPastPools(provider),\n        provider,\n    );\n  }\n\n  /**\n   * @param {Array} pools user address to check balances\n   * @param {String} functionPath function to invoke\n   * @param {Array} args array of function args\n   * @param {String} propName name of prop to put result in\n   * @return {Array} results\n   */\n  static _mapToPools(pools, functionPath, args, propName) {\n    const f = async (pool) => {\n      const prop = propName ? propName : functionPath[functionPath.length - 1];\n\n      // traverse props iteratively\n      let func = pool;\n      /* eslint-disable-next-line guard-for-in */\n      functionPath.forEach((elem) => {\n        func = func[elem];\n        if (!func) return;\n      });\n\n      if (func) {\n        const output = {};\n        output.name = pool.name;\n        output.address = pool.address;\n        output[prop] = await func.apply(pool, [...args]);\n        return output;\n      }\n    };\n    return Promise.all(pools.map(f));\n  }\n\n  /**\n   * @param {string} address user address\n   * @return {Array} balances\n   */\n  staked(address) {\n    return PoolManager._mapToPools(\n        this.pools,\n        ['balanceOf'],\n        [address],\n        'stakedBalance',\n    );\n  }\n\n  /**\n   * @param {string} address user address\n   * @return {Array} balances\n   */\n  unstaked(address) {\n    return PoolManager._mapToPools(\n        this.pools,\n        ['unstakedBalance'],\n        [address],\n        'unstakedBalance',\n    );\n  }\n\n  /**\n   * @param {string} address user address\n   * @return {Array} rewards\n   */\n  earned(address) {\n    return PoolManager._mapToPools(\n        this.pools,\n        ['earned'],\n        [address],\n        'earnedRewards',\n    );\n  }\n\n  /**\n   * @param {string} address user address\n   * @param {bool} passthrough unwrap interior tokens\n   * @return {Array} lp token balances\n   */\n  underlying(address, passthrough) {\n    return PoolManager._mapToPools(\n        this.pools,\n        ['underlyingBalanceOf'],\n        [address, passthrough],\n        'underlyingBalances',\n    ).then((vs) => vs.filter((v) => !!v));\n  }\n\n  /**\n   * Return aggregate underlying positions across all pools\n   * @param {string} address user address\n   * @param {bool} passthrough unwrap interior tokens\n   * @return {Array} lp token balances\n   */\n  aggregateUnderlyings(address) {\n    return this.underlying(address, true).then((underlyings) => {\n      let aggregateUnderlyings = new UnderlyingBalances();\n      underlyings.reduce((acc, next) => {\n        return acc.combine(next.underlyingBalances);\n      }, aggregateUnderlyings);\n      return aggregateUnderlyings;\n    })\n  }\n\n  /**\n   * @param {string} address user address\n   * @return {Array} summaries\n   */\n  summary(address) {\n    return PoolManager._mapToPools(\n        this.pools,\n        ['summary'],\n        [address],\n        'summary',\n    );\n  }\n\n  /**\n   * @param {BigNumberish} min minimum value to get per-pool. defaults to 10**18\n   * @param {Object} overrides ethers overrides\n   * @return {Array} array of txns\n   */\n  getRewards(min, overrides) {\n    if (!ethers.Signer.isSigner(this.provider)) {\n      throw new Error('No signer');\n    };\n    overrides = overrides ? overrides : {};\n\n    const address = this.provider.getAddress();\n    const lowerBound = min ? min : ethers.constants.WeiPerEther;\n\n    const promises = this.pools.map(async (pool) => {\n      const earned = await pool.earned(address);\n      if (earned.gt(lowerBound)) {\n        return {\n          name: pool.name,\n          getReward: await pool.getReward(overrides),\n        };\n      }\n    });\n\n    return Promise\n        .all(promises)\n        .then((vals) => vals.filter((val) => !!val));\n  }\n\n  _exitPools(pools, overrides) {\n    if (!ethers.Signer.isSigner(this.provider)) {\n      throw new Error('No signer');\n    };\n    const promises = pools.map(async (pool) => {\n      const staked = await pool.staked(this.provider.getAddress());\n      if (staked.gt(0)) {\n        return {\n          name: pool.name,\n          exit: await pool.exit(overrides),\n        };\n      }\n    });\n\n    return Promise\n        .all(promises)\n        .then((vals) => vals.filter((val) => typeof val !== 'undefined'));\n  }\n\n  /**\n   * @param {Object} overrides ethers overrides\n   * @return {Array} array of txns\n   */\n  exitAll(overrides) {\n    return this._exitPools(this.pools, overrides);\n  }\n\n  /**\n   * exit pools that are not returning rewards\n   * @param {Object} overrides ethers overrides\n   * @return {Array} array of txns\n   */\n  exitInactive(overrides) {\n    return this._exitPools(\n      this.pools.filter((pool) => !pool.isActive()),\n      overrides\n    );\n  }\n}\n\nexport default {\n  data,\n  ethers,\n  HarvestRewardsPool,\n  PoolManager,\n};\n","import axios from 'axios';\nimport ethers from 'ethers';\n\n/**\n * Memoizing coin gecko api\n */\nclass GeckoApi {\n  /**\n   * @param {String} url the api url\n   */\n  constructor(url) {\n    this.url = url;\n    this._memos = {};\n  }\n\n  /**\n   * @param {String} address token address\n   * @param {Number} time current time\n   * @return {Number} price\n   */\n  checkMemo(address, time) {\n    if (this._memos[address] && this._memos[address].validUntil >= time) {\n      return this._memos[address].price;\n    }\n  }\n\n  /**\n   * @param {String} address token address\n   * @param {Number} price price in USD\n   * @param {Number} validUntil validity of memoization\n   * @return {BigNumber} price in pennies\n   */\n  memoize(address, price, validUntil) {\n    const bnPrice = ethers.BigNumber.from(parseInt(price * 100));\n    this._memos[address] = {\n      validUntil,\n      price,\n    };\n    return bnPrice;\n  }\n\n  /**\n   * NOTE: silently fails to return unknown or non-existing assets\n   * @param {Array} addresses token addresses\n   */\n  async _getPrices(addresses) {\n    const result = {};\n    const time = Date.now();\n\n    addresses.forEach((address) => {\n      const memo = this.checkMemo(address, time);\n      if (memo) {\n        result[address] = memo;\n      }\n    });\n\n    const s = addresses.filter((address) => !(result[address])).join(',');\n    const url = `${this.url}?contract_addresses=${s}&vs_currencies=USD`;\n\n    const response = await axios.get(url);\n\n    Object.entries(response.data).forEach(([address, {usd}]) => {\n      result[address] = this.memoize(address, usd, time + 5 * 60 * 1000);\n    });\n\n    return result;\n  }\n\n  /**\n   * @param {String} address token address\n   * @return {Promise} axios output\n   */\n  getPrice(address) {\n    return this._getPrices([address]);\n  }\n\n  /**\n   * @param {Array} addresses token addresses\n   * @return {Promise} axios output\n   */\n  getPrices(addresses) {\n    return this._getPrices(addresses);\n  }\n}\n\nconst Gecko = (function () {\n    const instances = {};\n\n    function createInstance(url) {\n        var object = new GeckoApi(url);\n        return object;\n    }\n\n    function fromUrl(url) {\n      url = url ? url : 'https://api.coingecko.com/api/v3/simple/token_price/ethereum';\n      if (!instances[url]) {\n          instances[url] = createInstance(url);\n      }\n      return instances[url];\n    }\n\n    function coingecko() {\n      return fromUrl();\n    }\n\n    return {\n        coingecko,\n        fromUrl\n    };\n})();\n\nexport default Gecko;\n","import ethers from 'ethers';\n\n/**\n * Prettifies a positions for console.table\n * @param {Object} sum position summary\n * @return {Object} pretty\n */\nexport function prettyPosition(sum) {\n  const {\n    name,\n    summary: {\n      pool: {address, asset: {decimals}},\n      isActive, stakedBalance, unstakedBalance, earnedRewards,\n      percentageOwnership,\n    },\n  } = sum;\n\n  return {\n    name,\n    address,\n    isActive,\n    stakedBalance: ethers.utils.formatUnits(stakedBalance, decimals),\n    unstakedBalance: ethers.utils.formatUnits(unstakedBalance, decimals),\n    earnedRewards: ethers.utils.formatUnits(earnedRewards, 18),\n    percentOfPool: percentageOwnership,\n  };\n}\n\n/**\n * Prettifies a positions for console.table\n * @param {Object} u\n * @return {Object} pretty\n */\nexport function prettyUnderlying(u) {\n  const underlyingBalancesList = u.underlyingBalances.toList();\n\n  if (underlyingBalancesList[0].balance.isZero()) {\n    return;\n  }\n\n  /**\n   * @param {Object} underlying output of underlyingBalanceOf\n   * @return {Object} transformed\n   */\n  function transformUnderlying(underlying) {\n    const {name, decimals} = underlying.asset;\n    return {\n      name,\n      balance: ethers.utils.formatUnits(underlying.balance, decimals),\n    };\n  }\n\n  return {\n    asset: u.name,\n    underlyingBalances: underlyingBalancesList.map(transformUnderlying),\n  };\n}\n\nexport default {\n  prettyUnderlying,\n  prettyPosition,\n};\n","import deploys from './data/deploys.js';\nimport manager from './manager.js';\nimport * as pool from './pool.js';\nimport gecko from './gecko.js';\nimport utils from './utils.js';\nimport ethers from 'ethers';\n\nexport default {\n  ethers,\n  gecko,\n  manager,\n  pool,\n  deploys,\n  utils,\n};\n","import React, {Component} from 'react';\n\nimport harvest from '../lib/index.js';\nconst ethers = harvest.ethers;\n\n\nclass Table extends Component {\n  constructor(props, keys) {\n    super(props)\n    this.keys = keys;\n  }\n\n  render() {\n    return (\n      <div>\n        <table id='summaries'>\n          <tbody>\n            <tr>{this.renderTableHeader()}</tr>\n            {this.renderTableData()}\n          </tbody>\n        </table>\n      </div>\n      )\n  }\n\n  renderTableHeader() {\n    return this.keys.map((key, index) => {\n      return <th key={index}>{key}</th>\n    });\n  }\n}\n\nexport class MainTable extends Table {\n  constructor(props) {\n    super(props, [\n      'Pool',\n      'Earning',\n      'Staked Balance',\n      'Unstaked Balance',\n      'Earned Rewards',\n      'Pool%',\n    ]);\n  }\n\n  renderTableData() {\n    return this.props.data\n      .map(harvest.utils.prettyPosition)\n      .map((summary, index) => {\n        return (\n          <tr key={summary.address}>\n            <td>{summary.name}</td>\n            <td>{String(summary.isActive)}</td>\n            <td>{summary.stakedBalance}</td>\n            <td>{summary.unstakedBalance}</td>\n            <td>{summary.earnedRewards}</td>\n            <td>{summary.percentOfPool}</td>\n          </tr>\n        );\n      });\n  }\n}\n\nexport class UnderlyingTable extends Table {\n  constructor(props) {\n    super(props, [\n      'Asset',\n      'Underlying Balance',\n    ]);\n  }\n\n  renderTableData() {\n    return this.props.data\n      .filter((u) => !u.balance.isZero())\n      .map((u, index) => {\n        return (\n          <tr key={u.asset.address}>\n            <td>{u.asset.name}</td>\n            <td>{ethers.utils.formatUnits(u.balance, u.asset.decimals)}</td>\n          </tr>\n        );\n      });\n  }\n}\n","import detectEthereumProvider from '@metamask/detect-provider';\nimport harvest from './lib/index.js';\n\nimport React from 'react';\nimport './App.css';\nimport {MainTable, UnderlyingTable} from './components/MainTable.js';\n\nconst ethers = harvest.ethers;\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      provider: undefined,\n      signer: undefined,\n      address: '',\n      manager: undefined,\n      summaries: [],\n      underlyings: [],\n    };\n  }\n\n  setProvider(provider) {\n    provider = new ethers.providers.Web3Provider(provider);\n\n    let signer;\n    try {\n      signer = provider.getSigner();\n    } catch (e) {console.log(e)}\n    const manager = harvest.manager.PoolManager.allPastPools(signer ? signer : provider);\n\n    this.setState({provider, signer, manager});\n\n    console.log({provider, signer, manager})\n\n    // get the user address\n    signer.getAddress()\n      .then((address) => this.setState({address}));\n  }\n\n  connectMetamask() {\n    detectEthereumProvider()\n      .then((provider) => {\n        window.ethereum.enable()\n          .then(() => this.setProvider(provider))\n      });\n  }\n\n  refreshButtonAction() {\n    console.log('refreshing')\n    this.state.manager.aggregateUnderlyings(this.state.address)\n      .then((underlying) => underlying.toList().filter((u) => !u.balance.isZero()))\n      .then((underlyings) => {\n        this.setState({underlyings});\n        return underlyings\n      })\n      .then(console.table);\n\n    this.state.manager.summary(this.state.address)\n      .then(summaries => summaries\n        .filter((p) => !p.summary.earnedRewards.isZero()\n                        || !p.summary.stakedBalance.isZero()\n                        || (p.summary.isActive && !p.summary.unstakedBalance.isZero())\n                        )\n      )\n      .then(summaries => {\n        this.setState({summaries});\n        return summaries;\n      })\n      .then(console.table);\n  }\n\n  harvestButtonAction() {\n    console.log('harvesting');\n    const minHarvestInput = document.getElementById(\"minHarvest\").value;\n    const minHarvest = minHarvestInput ? ethers.utils.parseUnits(minHarvestInput, 18) : ethers.constants.WeiPerEther.div(10);\n    this.state.manager.getRewards(minHarvest);\n  }\n\n  exitInactiveButtonAction() {\n    console.log('exiting inactive');\n    this.state.manager.exitInactive();\n  }\n\n  render() {\n    const connectBtn = this.renderConnectStatus();\n    const refreshBtn = this.renderRefreshButton();\n    const harvestAll = this.renderHarvestAll();\n    const exitInactive = this.renderExitInactiveButton();\n    const table = this.renderMainTable();\n    const underlyingTable = this.renderUnderlyingTable();\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <h1>Harvest Finance Dashboard</h1>\n          {connectBtn}\n          {refreshBtn}\n          {table}\n          {harvestAll}\n          {exitInactive}\n          {underlyingTable}\n          <p>Add assets to wallet: &nbsp;\n            <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://harvestfi.github.io/add-farm/\">FARM</a>&nbsp;\n            <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://harvestfi.github.io/add-fusdc/\">fUSDC</a>&nbsp;\n            <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://harvestfi.github.io/add-fusdt/\">fUSDT</a>&nbsp;\n            <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://harvestfi.github.io/add-fdai/\">fDAI</a>&nbsp;\n            <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://harvestfi.github.io/add-fwbtc/\">fwBTC</a>&nbsp;\n            <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://harvestfi.github.io/add-frenbtc/\">frenBTC</a>&nbsp;\n            <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://harvestfi.github.io/add-fcrvrenwbtc/\">fcrvRenWBTC</a>&nbsp;&#x2014;&nbsp;\n            <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://farm.chainwiki.dev\">Harvest Wiki</a>\n          </p>\n          <p>Please consider donating: 0x84BB14595Fd30a53cbE18e68085D42645901D8B6</p>\n        </header>\n      </div>\n    );\n  }\n\n  renderMainTable() {\n    if (this.state.summaries.length !== 0) {\n      return <MainTable data={this.state.summaries}></MainTable>;\n    }\n    return <div></div>;\n  }\n\n  renderUnderlyingTable() {\n    if (this.state.underlyings.length !== 0) {\n      return (\n      <div>\n        <p>\n          Your position includes LP tokens that can be redeemed for the following:\n        </p>\n        <p>\n          <UnderlyingTable data={this.state.underlyings}></UnderlyingTable>\n        </p>\n      </div>\n      );\n    }\n    return <div></div>\n  }\n\n  renderConnectStatus() {\n    if (!this.state.provider) {\n      return <div>\n        Start here: <button onClick={this.connectMetamask.bind(this)}>Connect Wallet</button>\n      </div>;\n    }\n    return <p>Your wallet address is: <span id=\"address\"><a target=\"_blank\" rel=\"noopener noreferrer\" href={this.state.address ? \"https://etherscan.io/address/\" + this.state.address : \"#\"}>{this.state.address || \"not connected\"}</a></span></p>;\n  }\n\n  renderHarvestAll() {\n    if (this.state.summaries.length !== 0){\n      const harvestBtn = this.renderHarvestButton();\n      return (\n        <p>\n          Harvest all farms with at least <input type=\"text\" id=\"minHarvest\" placeholder=\"min\"></input> FARM rewards {harvestBtn}\n        </p>);\n    }\n    return <div></div>;\n  }\n\n  renderRefreshButton() {\n    const buttonText = (this.state.summaries.length === 0) ? 'Click to load the table!' : 'Refresh Table';\n\n    return <div>\n      <button\n        disabled={!this.state.provider}\n        onClick={this.refreshButtonAction.bind(this)}\n      >{buttonText}</button>\n    </div>;\n  }\n\n  renderHarvestButton() {\n    return <button\n      disabled={!this.state.provider}\n      onClick={this.harvestButtonAction.bind(this)}\n    >Harvest All</button>\n  }\n\n  renderExitInactiveButton() {\n    let inactivePools = this.state.summaries.filter((sum) => sum.stakedBalance && !sum.isActive);\n    if (inactivePools.length !== 0) {\n      return <div><button\n        disabled={!this.state.provider}\n        onClick={this.exitInactiveButtonAction.bind(this)}\n      >Exit inactive pools</button></div>;\n    }\n    return <div></div>;\n  }\n}\n\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}